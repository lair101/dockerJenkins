<!DOCTYPE html>
<!--
    <copyright 
    notice="oco-source" 
    pids="5725-C18" 
    years="2015" 
    crc="4109938966" > 
    IBM Confidential 
     
    OCO Source Materials 
     
    5725-C18 
     
    (C) Copyright IBM Corp. 2015 
     
    The source code for the program is not published 
    or otherwise divested of its trade secrets, 
    irrespective of what has been deposited with the 
    U.S. Copyright Office. 
    </copyright> 
 -->
<html lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    <!-- Force no compatibility modes for IE. Not HTML5 compliant! -->
    <meta http-equiv="X-UA-Compatible" content="IE=Edge">

    <META HTTP-EQUIV="PRAGMA" CONTENT="NO-CACHE">
    <META HTTP-EQUIV="CACHE-CONTROL" CONTENT="NO-CACHE">

    <link rel="stylesheet" type="text/css" href="webui/css/Main.css">
    <link rel="stylesheet" type="text/css" href="healthcare/css/Main.css">

    <script type="text/javascript">
      var dojoConfig = {
        parseOnLoad: false,
        async: true // Seems to help produce better error messages?
        //isDebug: true, // might improve debugging, allows a firebug plugin for IE8
        //useDeferredInstrumentation: true,
      };
    </script>

    <script src="dojo/dojo.js" type="text/javascript"></script>
    <script>
        // layers
        require(["healthcare/main","webui/main", "idx/main"], function() {
          // Define our main code here, as then it runs only after layers has been loaded.
          // Otherwise the optimised site tries to run before we have loaded all our js modules
          require( [
              'dojo/i18n!webui/nls/web',
              'dojo/domReady!',
              'dojo/parser',
              'dojo/dom-construct',
              'dojo/dom',
              'idx/app/Banner',
              'healthcare/config',
              'webui/widgets/Selector',
              'webui/widgets/SupportedBrowser',
              /* Need to explicitly require all our dynamic modules as otherwise we get a 'mutliple define' error from the require() call */
              'healthcare/widgets/ClinicalMonitoring',
          ], function(
              NLS,
              ready,
              parser,
              DomConstruct,
              Dom,
              Banner,
              healthcareConfig,
              Selector,
              SupportedBrowser,
              ClinicalMonitoring
          ) {
              parser.parse();
              document.title = healthcareConfig.nls.title;
              Dom.byId('headerTitle').innerHTML = healthcareConfig.nls.headerTitle;

              var selector = new Selector(healthcareConfig.selectorConfig);
              DomConstruct.place(selector.domNode, Dom.byId("main"));
              selector.startup();

              var browserCheck = new SupportedBrowser({'tests':healthcareConfig.supportedBrowsers});
              DomConstruct.place(browserCheck.domNode, "browserWarning");
              browserCheck.startup();

          } );
        });
    </script>

    <!-- NLS: will be overwritten from NLS by script, but set a default one too -->
    <title>IBM Integration Bus Healthcare Pack</title>

    <script src='thirdparty/mqttws31.js'> </script>
</head>
<body class="oneui">
    <div id="banner" role="banner" data-dojo-type="idx/app/Banner" data-dojo-props='"primaryBannerType": "thin","layoutType": "variable" '>
        <!-- NLS: will be overwritten from NLS by script, but set a default one too -->
        <span id="headerTitle"></span>
    </div>
    <div id="browserWarning"> </div>

    <div id="main" role="main">
        <div id='mainLoadingIcon' class="center loadingIcon" title="Loading" alt="Loading"></div>
    </div>

</body>
</html>
