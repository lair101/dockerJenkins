/*
 * <copyright notice="oco-source" pids="5725-C18" years="2015" /> 
 */
//>>built
require({cache:{"webui/widgets/OperationalMonitoring":function(){define(["dojo/i18n!webui/nls/web","dojo/text!./templates/OperationalMonitoring.html","dojo/_base/lang","dojo/_base/array","dojo/_base/declare","dojo/string","dojo/dom-construct","dojo/date/locale","dojo/store/Memory","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/form/Button","idx/form/buttons","idx/form/Link","gridx/Grid","gridx/core/model/cache/Sync","gridx/modules/ColumnResizer","gridx/modules/VirtualVScroller","gridx/modules/TouchScroll","gridx/modules/Filter","gridx/modules/filter/QuickFilter","gridx/modules/SingleSort","gridx/modules/CellWidget","webui/BrokerStore","webui/websocketManager","webui/Trace"],function(_1,_2,_3,_4,_5,_6,_7,_8,_9,_a,_b,_c,_d,_e,_f,_10,_11,_12,_13,_14,_15,_16,_17,_18,_19,_1a){var _1b="webui.widgets.OperationalMonitoring";"use strict";var _1c=_5([_a,_b],{widgetName:_1b,templateString:_2,patternDescription:null,patternId:null,patternIntance:null,titleString:"",loadingIcon:null,grid:null,store:null,structure:null,brokerStore:null,subscriptions:null,constructor:function(_1d,_1e){_1a.trace(this.widgetName+" ("+this.id+")",_1a.levels.ENTRY,"constructor",[_1d]);this.widgetName+=" ("+this.id+")";_3.mixin(this,_1d);this.patternDescription=this.patternDescription||_1e.patternDescription;this.patternInstance=this.patternInstance||_1e.patternInstance;this.patternId=this.patternId||_1e.patternId;if(!this.patternDescription){this.patternDescription=this.patternId;_4.forEach(window.selector.operationalMonitoring,function(_1f){if(_1f.config.patternId===this.patternId){this.patternDescription=_1f.config.patternDescription;}},this);}this.titleString=_6.substitute(_1.operationalMonitoringTitleString,[this.patternDescription,this.patternInstance]);this.subscriptions=[];var _20="auto";var _21=this;this.structure=[{id:"col_eg",field:"egName",name:_1.operationalMonitoringIntegrationServerHeaderTitle,width:_20},{id:"col_container",field:"containerName",name:_1.operationalMonitoringContainerHeaderTitle,width:_20,formatter:function(row){return "<a href='"+row._flowObj.parentContainer.statsHref+"' aria-label='"+row.containerName+"' role='gridcell'>"+row.containerName+"</a>";}},{id:"col_flow",field:"flowName",name:_1.operationalMonitoringMessageFlowHeaderTitle,width:_20,formatter:function(row){return "<a href='"+row._flowObj.statsHref+"'>"+row.flowName+"</a>";}},{id:"col_stats",field:"stats",name:_1.operationalMonitoringChangeStatsHeaderTitle,width:"100px","widgetsInCell":true,decorator:function(){return "<div  data-dojo-type='dijit/form/Button' data-dojo-props=\"profile: 'compact'\""+" data-dojo-attach-point='statsButton'></div>"+"<div data-dojo-type='idx/form/Link' data-dojo-attach-point='statsText'></div>";},"setCellValue":function(_22,_23,_24){if(_22==="statsOn"){_24.statsButton.setLabel(_1.operationalMonitoringStatsOn);_24.statsButton.domNode.style.display="block";_24.statsText.domNode.style.display="none";}else{if(_22==="statsOff"){_24.statsButton.setLabel(_1.operationalMonitoringStatsOff);_24.statsButton.domNode.style.display="block";_24.statsText.domNode.style.display="none";}else{_24.statsText.set("label",_1.operationalMonitoringFlowOrParentStopped);_24.statsText.set("disabled",true);_24.statsButton.domNode.style.display="none";_24.statsText.domNode.style.display="block";}}},getCellWidgetConnects:function(_25,_26){return [[_25.statsButton,"onClick",function(e){_21._toggleStatsButtonCB(_25,_26,e);}]];}},{id:"col_inputNodes",field:"inputNodeNames",name:_1.operationalMonitoringInputFlowNodesHeaderTitle,width:_20},{id:"col_rate",field:"rate",name:_1.operationalMonitoringRateHeaderTitle,width:_20},{id:"col_lastUpdate",field:"lastUpdate",name:_1.operationalMonitoringLastUpdateHeaderTitle,width:_20,formatter:function(row){if(row.lastUpdate){return _8.format(row.lastUpdate,{formatLength:"long"});}else{return "-";}}}];this.brokerStore=_18.getBrokerStore();_1a.trace(this.widgetName,_1a.levels.EXIT,"constructor");},postCreate:function(){_1a.trace(this.widgetName,_1a.levels.ENTRY,"postCreate");this.loadingIcon.title=_1.loading;var _27=this;this.brokerStore.getContentsOfPatternInstance(this.patternId,this.patternInstance).then(function(_28){var _29=_27._buildGridData(_28);_27.store=new _9({"data":_29});_27.grid=new _f({"store":_27.store,"structure":_27.structure,"cacheClass":_10,"modules":[_12,_11,_13,_14,_15,_16,_17]});_27.grid.placeAt(_27.gridId);});_19.connect();_1a.trace(this.widgetName,_1a.levels.EXIT,"postCreate");},startup:function(){_1a.trace(this.widgetName,_1a.levels.ENTRY,"startup");var _2a=_19.connect();var _2b=this;this.brokerStore.getContentsOfPatternInstance(this.patternId,this.patternInstance).then(function(){_1a.trace(_2b.widgetName+" ("+_2b.id+")",_1a.levels.ENTRY,"startup.then");_7.destroy(_2b.loadingIcon);_2b.grid.startup();if(_2b.gridId.offsetHeight<200){_1a.trace(_2b.widgetName+" ("+_2b.id+")",_1a.levels.INFO,"startup(): Got very small space for grid \""+_2b.gridId.offsetHeight+"\" (probably on android/ios), forcing a new size");_2b.grid.resize({h:800});}_1a.trace(_2b.widgetName+" ("+_2b.id+")",_1a.levels.EXIT,"startup.then");});_1a.trace(this.widgetName,_1a.levels.EXIT,"startup");},uninitialize:function(){_1a.trace(this.widgetName,_1a.levels.ENTRY,"uninitialize");_4.forEach(this.subscriptions,function(sub){_19.unsubscribe(sub);});_1a.trace(this.widgetName,_1a.levels.EXIT,"uninitialize");},resize:function(){if(this.grid){this.grid.resize();}},_toggleStatsButtonCB:function(_2c,_2d,e){_1a.trace(_1b,_1a.levels.EXIT,"_toggleStatsButtonCB",[_2c,_2d,e]);var _2e=_2d.grid.store.get(_2d.row.id);_2c.statsButton.setDisabled(true);if(_2e.stats=="statsOn"){_2e.stats="statsOff";_2e.rate="-";_2e.lastUpdate=null;this.grid.model.clearCache();this.grid.body.refresh();_2e._flowObj.setSnapshotStatistics("off").then(function(){_2c.statsButton.setLabel(_1.operationalMonitoringStatsOff);_2c.statsButton.setDisabled(false);});}else{if(_2e.stats=="statsOff"){_2e.stats="statsOn";_2e._flowObj.setSnapshotStatistics("on").then(function(){_2c.statsButton.setLabel(_1.operationalMonitoringStatsOn);_2c.statsButton.setDisabled(false);});}}_1a.trace(_1b,_1a.levels.EXIT,"_toggleStatsButtonCB");},_buildGridData:function(_2f){_1a.trace(this.widgetName,_1a.levels.ENTRY,"_buildGridData",[_2f]);var _30=this;var _31=[];_4.forEach(_2f,function(_32){var row={};row.id=_32.flow.uri;row.egName=_32.flow.parentEG.name;row.containerName=_32.flow.getContainerName();row.flowName=_32.flow.name;if(_32.flow.isRunning){if(_32.flow.snapshotStatistics.enabled&&_32.flow.snapshotStatistics.nodeLevel==="basic"){row.stats="statsOn";}else{row.stats="statsOff";}}else{row.stats="flowNotRuning";}row.inputNodeNames=(this._getInputNodes(_32.design)).join("<br>");row.rate="-";row.lastUpdate;row._flowObj=_32.flow;_31.push(row);var _33=_19.subscribe(_32.flow.snapshotTopic,function(_34){if(!row.stats){return;}row.rate=0;var _35=_34.payloadObj.WMQIStatisticsAccounting.MessageFlow.TotalInputMessages;var _36=_30._calcStatsInterval(_34.payloadObj.WMQIStatisticsAccounting.MessageFlow);if(_36!==0){row.rate=(_35/_36*1000).toFixed(2);}if(_35!==0){row.lastUpdate=_30._parseStatsEndTime(_34.payloadObj.WMQIStatisticsAccounting.MessageFlow);}_30.grid.model.clearCache();_30.grid.model.store.setData(_31);_30.grid.body.refresh();});this.subscriptions.push(_33);},this);_1a.trace(this.widgetName,_1a.levels.EXIT,"_buildGridData",[_31]);return _31;},_getInputNodes:function(_37){_1a.trace(this.widgetName,_1a.levels.ENTRY,"_getInputNodes",[_37]);var _38=[];_4.forEach(_37.nodes,function(_39){if(_39.type.search(/InputNode$/)!==-1||_39.type==="ComIbmTimeoutNotificationNode"){_38.push(_39.name);}});_1a.trace(this.widgetName,_1a.levels.EXIT,"_getInputNodes",[_38]);return _38;},_parseStatsEndTime:function(_3a){_1a.trace(_1b,_1a.levels.EXIT,"_parseStatsEndTime",[_3a]);var _3b;var _3c=_3a.EndTime.indexOf(".");var _3d=_3a.EndTime.substring(_3c,_3a.EndTime.length).length-1;if(_3d>=3){var _3e=_3a.EndDate+" "+_3a.EndTime.substring(0,_3c+4);var _3b=_8.parse(_3e+" "+_3a.TimezoneName,{datePattern:"yyyy-M-d H:m:s.SSS vz",selector:"date"});}else{var _3e=_3a.EndDate+" "+_3a.EndTime.substring(0,_3c);var _3b=_8.parse(_3e+" "+_3a.TimezoneName,{datePattern:"yyyy-M-d H:m:s vz",selector:"date"});}_1a.trace(_1b,_1a.levels.EXIT,"_parseStatsEndTime",[_3b]);return _3b;},_parseStatsStartTime:function(_3f){_1a.trace(_1b,_1a.levels.EXIT,"_parseStatsStartTime",[_3f]);var _40;var _41=_3f.StartTime.indexOf(".");var _42=_3f.StartTime.substring(_41,_3f.StartTime.length).length-1;if(_42>=3){var _43=_3f.StartDate+" "+_3f.StartTime.substring(0,_41+4);var _40=_8.parse(_43+" "+_3f.TimezoneName,{datePattern:"yyyy-M-d H:m:s.SSS vz",selector:"date"});}else{var _43=_3f.StartDate+" "+_3f.StartTime.substring(0,_41);var _40=_8.parse(_43+" "+_3f.TimezoneName,{datePattern:"yyyy-M-d H:m:s vz",selector:"date"});}_1a.trace(_1b,_1a.levels.EXIT,"_parseStatsStartTime",[_40]);return _40;},_calcStatsInterval:function(_44){_1a.trace(_1b,_1a.levels.EXIT,"_calcStatsInterval",[_44]);var _45=Number(this._parseStatsEndTime(_44)-this._parseStatsStartTime(_44));_1a.trace(_1b,_1a.levels.EXIT,"_parseStatsStartTime",[_45]);return _45;}});_1c.getTitleString=function(_46){_1a.trace(_1b,_1a.levels.ENTRY,"getTitleString",[_46]);var ret=_46.patternDescription;_1a.trace(_1b,_1a.levels.EXIT,"getTitleString",[ret]);return ret;};_1c.getItemSelections=function(_47){_1a.trace(_1b,_1a.levels.ENTRY,"getItemSelections",[_47]);var ret=window.selector.brokerStore.getInstancesOfPattern(_47.patternId);_1a.trace(_1b,_1a.levels.EXIT,"getItemSelections",[ret]);return ret;};return _1c;});},"webui/widgets/Selector":function(){define(["dojo/i18n!webui/nls/web","dojo/text!./templates/Selector.html","dojo/_base/lang","dojo/on","dojo/_base/array","dojo/_base/declare","dojo/dom-construct","dojo/io-query","dijit/_WidgetBase","dijit/_TemplatedMixin","dijit/form/Button","idx/form/Select","idx/form/buttons","webui/BrokerStore","webui/widgets/OperationalMonitoring","webui/Trace"],function(NLS,_48,_49,on,_4a,_4b,_4c,_4d,_4e,_4f,_50,_51,_52,_53,_54,_55){"use strict";var _56=_4b([_4e,_4f],{widgetName:"webui.widgets.Selector",templateString:_48,applicationMonitoring:[],operationalMonitoring:[],titleString:"",applicationMonitoringTitle:NLS.selectorApplicationMonitoring,operationalMonitoringTitle:NLS.selectorOperationalMonitoring,operationalMonitoringDesc:NLS.selectorOperationalMonitoring_Desc,brokerStore:null,currentWidget:null,ourNodes:null,knownWidgets:[],selector:null,constructor:function(_57){_55.trace(this.widgetName+" ("+this.id+")",_55.levels.ENTRY,"constructor",[_57]);this.widgetName+=" ("+this.id+")";_49.mixin(this,_57);var _58=this;window.selector=this;this.ourNodes=[];this.brokerStore=_53.getBrokerStore();this.brokerStore.getAllMessageFlows({"loadProperties":true,"loadDesign":true});_4a.forEach([this.applicationMonitoring,this.operationalMonitoring],function(i){_4a.forEach(i,function(j){if(j.widget){_58.knownWidgets.push(j.widget);}});});window.addEventListener("popstate",function(e){_58._onHistoryChangeHandler(e);});_55.trace(this.widgetName,_55.levels.EXIT,"constructor");},postCreate:function(){_55.trace(this.widgetName,_55.levels.ENTRY,"postCreate");_4c.destroy("mainLoadingIcon");this.brokerStore.getCurrentUser().then(function(_59){if(_59.username!=="Default"){var _5a=dijit.byId("banner");_5a.set("usernameLabel",_59.name);_5a.set("username",_59.username);_5a.set("logoutFunc",function(){require(["dojo/request"],function(_5b){_5b("/apiv1/logout").then(function(){window.location.reload();});});});}});var _5c=this;if(!this.applicationMonitoring||this.applicationMonitoring.length===0){_4c.destroy(this.applicationMonitoringDiv);}else{_4a.forEach(this.applicationMonitoring,function(row){var _5d=row.widget;require([_5d.replace(/\./g,"/")],function(_5e){var tr=_4c.create("tr",null,_5c.applicationMonitoringAttach);_4c.create("td",{"class":"treeIcon"},tr);_4c.create("td",{innerHTML:_5e.getTitleString(row.config)},tr);var _5f=_4c.create("td",{"class":"goButton"},tr);var _60=_4c.create("button",{"class":"loadButton","title":NLS.selectorLoad,"onclick":function(){_5c.loadNewWidget(row.widget);},innerHTML:"<img src=\"webui/widgets/images/35px-white-arrow-on-blue.gif\"/>"},_5f);_55.trace(_5c.widgetName+"/require",_55.levels.EXIT,"Initialising "+_5d);}).on("error",function(err){_55.trace(this.widgetName,_55.levels.ERROR,"Error loading module "+_5d,[err]);});});}if(!this.operationalMonitoring||this.operationalMonitoring.length===0){_4c.destroy(this.operationalMonitoringDiv);}else{_4a.forEach(this.operationalMonitoring,function(row){var tr=_4c.create("tr",null,_5c.operationalMonitoringAttach);_4c.create("td",{"class":"flowIcon"},tr);_4c.create("td",{"innerHTML":_54.getTitleString(row.config)},tr);var _61=_4c.create("td",{},tr);var _62=_4c.create("div",{"class":"loadingIcon","title":NLS.loading},_61);var _63=_4c.create("td",{"class":"goButton"},tr);_54.getItemSelections(row.config).then(function(_64){_55.trace(_5c.widgetName,_55.levels.ENTRY,"postCreate.eachRow.setInstances",[_64]);if(!_62||!_62.parentNode){_55.trace(_5c.widgetName,_55.levels.EXIT,"postCreate.eachRow.setInstances");return;}if(_64&&_64.length>0){var _65=[];_4a.forEach(_64,function(i){_65.push({"label":i,"value":i});});var _66=new _51({"labelAlignment":"horizontal","compact":true,"fieldWidth":"200px","autoWidth":true,"options":_65},_62);_66.startup();var _67=_4c.create("button",{"class":"loadButton","title":NLS.selectorLoad,"onclick":function(){_5c.loadNewWidget(row.widget,{patternDescription:row.config.patternDescription,patternId:row.config.patternId,patternInstance:_66.getValue()});},innerHTML:"<img src=\"webui/widgets/images/35px-white-arrow-on-blue.gif\"/>"},_63);}else{_4c.create("span",{innerHTML:NLS.operationalMonitoringNoInstances},_62,"replace");}_55.trace(_5c.widgetName,_55.levels.EXIT,"postCreate.eachRow.setInstances");});});}if(location.hash&&location.hash.length>1){this._loadWidgetFromUrl();}_55.trace(this.widgetName,_55.levels.EXIT,"postCreate");},startup:function(){_55.trace(this.widgetName,_55.levels.ENTRY,"startup");var _68=this;on(window,"resize",function(){_68.resize();});_55.trace(this.widgetName,_55.levels.EXIT,"startup");},uninitialize:function(){_55.trace(this.widgetName,_55.levels.ENTRY,"uninitialize");_55.trace(this.widgetName,_55.levels.EXIT,"uninitialize");},loadNewWidget:function(_69,_6a,_6b){_55.trace(this.widgetName,_55.levels.ENTRY,"loadNewWidget",[_69,_6a,_6b]);this._loadNewWidget(_69,{"config":_6a,"noHistory":_6b});_55.trace(this.widgetName,_55.levels.EXIT,"loadNewWidget",[_69,_6a,_6b]);},_loadNewWidget:function(_6c,_6d){_55.trace(this.widgetName,_55.levels.ENTRY,"_loadNewWidget",[_6c,_6d]);var _6e=this;_55.trace(this.widgetName,_55.levels.DEBUG,"Requiring "+_6c);require([_6c.replace(/\./g,"/")],function(_6f){_55.trace(_6e.widgetName+"/require",_55.levels.ENTRY,"Initialising "+_6c);if(typeof currentWidget!=="undefined"&&currentWidget!==null){currentWidget.uninitialize();}else{for(var i=_6e.domNode.childNodes.length;i>0;i--){var _70=_6e.domNode.childNodes[i-1];var _71=_6e.domNode.removeChild(_70);_6e.ourNodes.push(_71);}}_4c.empty(_6e.domNode);var _72=_6d.config||[];var _73=_6d.urlConfig||[];var _74=new _6f(_72,_73);_6e.currentWidget=_74;_4c.place(_74.domNode,_6e.domNode);_74.startup();_6e.resize();if(!_6d.noHistory){var _75=_49.clone(_72)||[];_75.page=_6c;history.pushState({"widget":_6c,"widgetOptions":_72},null,"#"+_4d.objectToQuery(_75));}_55.trace(_6e.widgetName+"/require",_55.levels.EXIT,"Initialising "+_6c);}).on("error",function(err){_55.trace(this.widgetName,_55.levels.ERROR,"Error loading module "+_6c,[err]);});_55.trace(this.widgetName,_55.levels.EXIT,"_loadNewWidget");},_onHistoryChangeHandler:function(e){_55.trace(this.widgetName,_55.levels.ENTRY,"_onHistoryChangeHandler",[e,location.hash]);if(e.state&&e.state.widget){this.loadNewWidget(e.state.widget,e.state.widgetOptions,true);}else{if(location.hash&&location.hash.length>1){this._loadWidgetFromUrl();}else{this._reloadOurselves();}}_55.trace(this.widgetName,_55.levels.EXIT,"_onHistoryChangeHandler");},_loadWidgetFromUrl:function(){_55.trace(this.widgetName,_55.levels.ENTRY,"_loadWidgetFromUrl");var _76=_4d.queryToObject(location.hash.substr(1));if(_76.page){if(this.knownWidgets.indexOf(_76.page)!=-1){var _77=_76.page;delete _76.page;try{this._loadNewWidget(_77,{"urlConfig":_76,"noHistory":true});}catch(e){_55.trace(this.widgetName,_55.levels.ERROR,"_loadWidgetFromUrl",["Error loading widget, reverting to main widget",e]);this._reloadOurselves();}}else{this._reloadOurselves();}}else{this._reloadOurselves();}_55.trace(this.widgetName,_55.levels.EXIT,"_loadWidgetFromUrl");},_reloadOurselves:function(){_55.trace(this.widgetName,_55.levels.ENTRY,"_reloadOurselves");if(typeof this.currentWidget!=="undefined"&&this.currentWidget!==null){this.currentWidget.uninitialize();_4c.empty(this.domNode);this.currentWidget=null;}for(var i=this.ourNodes.length-1;i>=0;i--){_4c.place(this.ourNodes[i],this.domNode);}this.startup();this.resize();_55.trace(this.widgetName,_55.levels.EXIT,"_reloadOurselves");},resize:function(){if(this.currentWidget&&this.currentWidget.resize){this.currentWidget.resize();}}});return _56;});},"webui/websocketManager":function(){define(["dojo/_base/array","dojo/_base/lang","dojo/Deferred","dojo/json","dojo/promise/all","webui/Trace"],function(_78,_79,_7a,_7b,all,_7c){"use strict";var _7d="webui.websocketManager";var _7e={};var _7f=false;var _80={};var _81;var _82;function _83(){_7c.trace(_7d,_7c.levels.ENTRY,"connect");if(_82){_7c.trace(_7d,_7c.levels.EXIT,"connect (secondary)",[_82]);return _82;}_82=new _7a();var _84=window.location.hostname;var _85=parseInt(window.location.port);var _86="Client"+new Date().getTime();_81=new Messaging.Client(_84,_85,_86);_81.onMessageArrived=function(_87){_8e(_87);};_81.onConnectionLost=function(_88){_7f=false;_7c.trace(_7d,_7c.levels.ERROR,"connection lost",[_88]);};var _89=window.location.protocol==="https:";var _8a=function(_8b){_7f=true;_82.resolve();_7c.trace(_7d,_7c.levels.INFO,"connection onSuccess",[_8b,_82]);};var _8c=function(_8d){_7f=false;_7c.trace(_7d,_7c.levels.ERROR,"connection onFailure",[_8d]);};var c=_81.connect({"useSSL":_89,"onSuccess":_8a,"onFailure":_8c});_7c.trace(_7d,_7c.levels.EXIT,"connect",[_82]);return _82;};function _8e(_8f){_7c.trace(_7d,_7c.levels.ENTRY,"client.onMessageArrived",[_8f]);try{if(_8f.payloadString){_8f.payloadObj=_7b.parse(_8f.payloadString,true);}else{_8f.payloadObj={};}_80={time:new Date(),topic:_8f.destinationName,contents:_8f.payloadObj};_78.forEach(Object.keys(_7e),function(sub){var _90=sub.split("/");var _91=false;if(_90.pop()==="#"){var _92=_90.join("/");if(_99(_8f.destinationName,_92)){_91=true;}}else{if(sub===_8f.destinationName){_91=true;}}if(_91){_78.forEach(_7e[sub],function(_93){try{if(typeof _93!=="undefined"){_7c.trace(_7d,_7c.levels.DEBUG,"client.onMessageArrived (invoking callback)",[_93,_8f]);_93(_8f);}}catch(e){_7c.trace(_7d,_7c.levels.ERROR,"client.onMessageArrived (callback error)",[e,_8f]);}});}});}catch(e){_7c.trace(_7d,_7c.levels.ERROR,"client.onMessageArrived (parsing error)",[e,_8f]);}_7c.trace(_7d,_7c.levels.EXIT,"client.onMessageArrived",[_8f.destinationName,_8f]);};function _94(_95,_96){_7c.trace(_7d,_7c.levels.ENTRY,"subscribe",[_95,_96]);if(_95.search(/\+/)!==-1){_7c.trace(_7d,_7c.levels.ERROR,"subscribe - Error, '+' pubsub wildcards are not imlplemented yet! Get coding!",[_95,_96]);return;}if(_7e[_95]){_7e[_95].push(_96);}else{_7e[_95]=[_96];}_83().then(function(){_7c.trace(_7d,_7c.levels.DEBUG,"subscribing on mqtt to",[_95]);_81.subscribe(_95,{"onSuccess":function(){_7c.trace(_7d,_7c.levels.INFO,"subscribe subscribed to",[_95]);}});});_7c.trace(_7d,_7c.levels.EXIT,"subscribe",[_96]);return _96;};function _97(_98){_7c.trace(_7d,_7c.levels.ENTRY,"unsubscribe",[_98]);_78.forEach(Object.keys(_7e),function(key){var i=_7e[key].indexOf(_98);if(i>=0){if(_7e[key].length===1){delete _7e[key];}else{_7e[key].splice(i,1);}}});_7c.trace(_7d,_7c.levels.EXIT,"unsubscribe");};return {connect:_83,subscribe:_94,unsubscribe:_97};function _99(_9a,_9b){return _9a.indexOf(_9b)===0;};});},"webui/widgets/SupportedBrowser":function(){define(["dojo/i18n!webui/nls/web","dojo/_base/lang","dojo/_base/declare","dojo/_base/array","dojo/sniff","dojo/dom-construct","dojo/dom-style","dijit/_WidgetBase","idx/widget/SingleMessage","webui/Trace"],function(NLS,_9c,_9d,_9e,_9f,_a0,_a1,_a2,_a3,_a4){"use strict";return _9d([_a2],{widgetName:"webui.widgets.SupportedBrowser",tests:[],dismiss:NLS.dismiss,isSupported:true,allowedBrowsersNode:null,constructor:function(_a5){_a4.trace(this.widgetName+" ("+this.id+")",_a4.levels.ENTRY,"constructor",[_a5]);_9c.mixin(this,_a5);_a4.trace(this.widgetName+" ("+this.id+")",_a4.levels.EXIT,"constructor");},postCreate:function(){_a4.trace(this.widgetName+" ("+this.id+")",_a4.levels.ENTRY,"postCreate");var _a6=false;this.allowedBrowsersNode=_a0.create("ul");_9e.forEach(this.tests,function(req){if(_9f(req.test)>=req.minimum){_a6=true;}_a0.create("li",{innerHTML:req.name},this.allowedBrowsersNode);},this);this.isSupported=_a6;_a4.trace(this.widgetName+" ("+this.id+")",_a4.levels.EXIT,"postCreate");},startup:function(){_a4.trace(this.widgetName+" ("+this.id+")",_a4.levels.ENTRY,"startup");if(!this.isSupported){var _a7=new _a3({type:"error",title:NLS.unsupported,messageNumber:1,description:NLS.supported+this.allowedBrowsersNode.outerHTML,onMoreDetails:function(){window.open("http://www.ibm.com/software/integration/wbimessagebroker/requirements/");},showRefresh:false,showTimestamp:false,showAction:false});_a7.placeAt(this.domNode);_a7.startup();}_a4.trace(this.widgetName+" ("+this.id+")",_a4.levels.EXIT,"startup");},uninitialize:function(){_a4.trace(this.widgetName+" ("+this.id+")",_a4.levels.ENTRY,"uninitialize");_a4.trace(this.widgetName+" ("+this.id+")",_a4.levels.EXIT,"uninitialize");}});});},"webui/nls/web":function(){define({root:({loginInstruction:"Please enter your credentials.",failedLogin:"Invalid username or password, please re-enter your credentials.",selectorApplicationMonitoring:"Application Monitoring",selectorOperationalMonitoring:"Operational Monitoring",selectorOperationalMonitoring_Desc:"Select a pattern instance to monitor",selectorLoad:"Open",operationalMonitoringNoInstances:"No instances of this pattern are deployed.",operationalMonitoringTitleString:"Operational Monitoring: ${1} instance of ${0} pattern",operationalMonitoringIntegrationServerHeaderTitle:"Integration Server",operationalMonitoringContainerHeaderTitle:"Container",operationalMonitoringMessageFlowHeaderTitle:"Message Flow",operationalMonitoringChangeStatsHeaderTitle:"Statistics",operationalMonitoringInputFlowNodesHeaderTitle:"Input Flow Nodes",operationalMonitoringRateHeaderTitle:"Messages per Second",operationalMonitoringLastUpdateHeaderTitle:"Last Message",operationalMonitoringStatsOn:"Disable",operationalMonitoringStatsOff:"Enable",operationalMonitoringFlowOrParentStopped:"Flow or container stopped",unsupported:"You are using an unsupported web browser.",supported:"Supported browsers are:",dismiss:"Dismiss",loading:"Loading..."}),"de":true,"es":true,"fr":true,"ja":true,"pl":true,"pt-br":true,"tr":true,"zh-cn":true,"zh-tw":true});},"webui/BrokerStore":function(){define(["dojo/_base/declare","dojo/_base/array","dojo/_base/lang","dojo/Deferred","dojo/json","dojo/promise/all","dojo/request/xhr","webui/Trace"],function(_a8,_a9,_aa,_ab,_ac,all,xhr,_ad){"use strict";var _ae="webui.BrokerStore";var _af=_a8([],{server:"//"+window.location.hostname+":"+parseInt(window.location.port),apiRoot:"/apiv1",baseUri:null,widgetName:_ae,_broker:undefined,_executionGroups:undefined,_allMessageFlows:undefined,constructor:function(){_ad.trace(this.widgetName,_ad.levels.ENTRY,"constructor");this.baseUri=this.server+this.apiRoot;this._allMessageFlows=[];_ad.trace(this.widgetName,_ad.levels.EXIT,"constructor",[this]);},getBroker:function(){_ad.trace(this.widgetName,_ad.levels.ENTRY,"getBroker");if(typeof this._broker==="undefined"){this._refreshBroker();}_ad.trace(this.widgetName,_ad.levels.EXIT,"getBroker",[this._broker]);return this._broker;},getExecutionGroups:function(){_ad.trace(this.widgetName,_ad.levels.ENTRY,"getExecutionGroups",[]);if(typeof this._executionGroups==="undefined"){this._refreshExecutionGroups();}_ad.trace(this.widgetName,_ad.levels.EXIT,"getExecutionGroups",[this._executionGroups]);return this._executionGroups;},getAllMessageFlows:function(_b0){_ad.trace(this.widgetName,_ad.levels.ENTRY,"getAllMessageFlows",[_b0]);var _b1=this;var _b2;if(_b0&&(_b0.loadProperties||_b0.loadDesign)){_b2=this._refreshAllFlows(_b0).then(function(){_ad.trace(_b1.widgetName,_ad.levels.ENTRY,"getAllMessageFlows.then");_ad.trace(_b1.widgetName,_ad.levels.EXIT,"getAllMessageFlows.then",[_b1._allMessageFlows]);return _b1._allMessageFlows;},function(err){_ad.trace(_b1.widgetName,_ad.levels.ERROR,"getAllMessageFlows().then",[err]);});}else{_b2=this.getExecutionGroups().then(function(){_ad.trace(_b1.widgetName,_ad.levels.ENTRY,"getAllMessageFlows.then");_ad.trace(_b1.widgetName,_ad.levels.EXIT,"getAllMessageFlows.then",[_b1._allMessageFlows]);return _b1._allMessageFlows;},function(err){_ad.trace(_b1.widgetName,_ad.levels.ERROR,"getAllMessageFlows().then",[err]);});}_ad.trace(this.widgetName,_ad.levels.EXIT,"getAllMessageFlows",[_b2]);return _b2;},getInstancesOfPattern:function(_b3){_ad.trace(this.widgetName,_ad.levels.ENTRY,"getInstancesOfPattern",[_b3]);var _b4=this;return this.getAllMessageFlows({loadProperties:"true"}).then(function(_b5){_ad.trace(_b4.widgetName,_ad.levels.ENTRY,"getInstancesOfPattern.then",[_b3]);var _b6=[];var _b7=[];_a9.forEach(_b5,function(_b8){var _b9=_b8.getFlowProperties().then(function(_ba){_ad.trace(_b4.widgetName,_ad.levels.ENTRY,"getInstancesOfPattern.then.flowProperties",[_ba]);if(_ba.customDescProperties&&_ba.customDescProperties.PatternName){var _bb=_ba.customDescProperties.PatternName;var _bc=_ba.customDescProperties.PatternInstanceName;if(_bb===_b3&&_b7.indexOf(_bc)===-1){_b7.push(_bc);}}_ad.trace(_b4.widgetName,_ad.levels.EXIT,"getInstancesOfPattern.then.flowProperties");});_b6.push(_b9);});var _bd=all(_b6).then(function(_be){return _b7;});_ad.trace(_b4.widgetName,_ad.levels.ENTRY,"getInstancesOfPattern.then",[_bd]);return _bd;});_ad.trace(this.widgetName,_ad.levels.EXIT,"getInstancesOfPattern");},getContentsOfPatternInstance:function(_bf,_c0){_ad.trace(this.widgetName,_ad.levels.ENTRY,"getContentsOfPatternInstance",[_bf,_c0]);var _c1=this;return this.getAllMessageFlows({loadProperties:"true",loadFlowDesign:"true"}).then(function(_c2){_ad.trace(_c1.widgetName,_ad.levels.ENTRY,"getContentsOfPatternInstance.then",[_bf,_c0]);var _c3=[];var _c4=[];_a9.forEach(_c2,function(_c5){var _c6=_c5.getFlowProperties().then(function(_c7){return _c5.getFlowDesign().then(function(_c8){_ad.trace(_c1.widgetName,_ad.levels.ENTRY,"getContentsOfPatternInstance.then.flowProperties",[_c7,_c8]);if(_c7.customDescProperties&&_c7.customDescProperties.PatternName){var _c9=_c7.customDescProperties.PatternName;var _ca=_c7.customDescProperties.PatternInstanceName;if(_c9===_bf&&_ca===_c0){_c4.push({"flow":_c5,"properties":_c7,"design":_c8});}}_ad.trace(_c1.widgetName,_ad.levels.EXIT,"getContentsOfPatternInstance.then.flowProperties");});});_c3.push(_c6);});var _cb=all(_c3).then(function(_cc){_ad.trace(_c1.widgetName,_ad.levels.ENTRY,"getContentsOfPatternInstance.resolve",[_cc]);_ad.trace(_c1.widgetName,_ad.levels.EXIT,"getContentsOfPatternInstance.resolve",[_c4]);return _c4;});_ad.trace(_c1.widgetName,_ad.levels.EXIT,"getContentsOfPatternInstance.then",[_cb]);return _cb;});_ad.trace(this.widgetName,_ad.levels.EXIT,"getContentsOfPatternInstance");},getCurrentUser:function(){_ad.trace(this.widgetName,_ad.levels.ENTRY,"getCurrentUser");var _cd=this;return this._currentUser=this._callXhr(this.baseUri+"/security/currentuser").then(function(_ce){_ad.trace(_cd.widgetName,_ad.levels.ENTRY,"getCurrentUser.then",[_ce]);_ad.trace(_cd.widgetName,_ad.levels.EXIT,"getCurrentUser.then"[_ce]);return _ce;});_ad.trace(this.widgetName,_ad.levels.EXIT,"getCurrentUser");},_compareNames:function(a,b){return a.name>b.name?1:a.name<b.name?-1:0;},_callXhr:function(uri,_cf){var _d0={};if(typeof (_cf)!=="undefined"){_d0.depth=_cf;}var _d1=xhr(uri,{"query":_d0,"handleAs":"json","headers":{"Accept":"application/json"}});return _d1;},_callXhrMethod:function(_d2,uri,_d3){var _d4=xhr(uri,{"method":_d2,"data":JSON.stringify(_d3),"headers":{"Content-Type":"application/json","Accept":"application/json"},"handleAs":"json"});return _d4;},_refreshBroker:function(){_ad.trace(this.widgetName,_ad.levels.ENTRY,"_refreshBroker");var _d5=this;this._broker=this._callXhr(this.baseUri).then(function(_d6){_ad.trace(_d5.widgetName,_ad.levels.ENTRY,"_refreshBroker().then",[_d6]);_d5._buildHrefLinks(_d6);_ad.trace(_d5.widgetName,_ad.levels.EXIT,"_refreshBroker().then",[_d6]);return _d6;},function(err){_ad.trace(_d5.widgetName,_ad.levels.ERROR,"_refreshBroker().then",[err]);});_ad.trace(this.widgetName,_ad.levels.EXIT,"_refreshBroker");},_refreshExecutionGroups:function(){_ad.trace(this.widgetName,_ad.levels.ENTRY,"_refreshExecutionGroups");var _d7=this;this._executionGroups=this._callXhr(this.baseUri+"/executiongroups",7).then(function(_d8){_ad.trace(_d7.widgetName,_ad.levels.ENTRY,"_refreshExecutionGroups().then",[_d8]);var ret=_d7.getBroker().then(function(_d9){try{_ad.trace(_d7.widgetName,_ad.levels.ENTRY,"_refreshExecutionGroups().then.then",[_d8]);_d8.executionGroup.sort(_d7.compareNames);_a9.forEach(_d8.executionGroup,function(_da){this._buildHrefLinks(_da);_da.services.service.sort(this.compareNames);_a9.forEach(_da.services.service,function(_db){this._buildHrefLinks(_db);_db.parentEG=_da;_db.messageFlows.messageFlow.sort(this.compareNames);_a9.forEach(_db.messageFlows.messageFlow,function(_dc){this._buildFlowObject(_dc,_d9,[_da,_db]);},this);_db.libraries.library.sort(this.compareNames);_a9.forEach(_db.libraries.library,function(_dd){this._buildHrefLinks(_dd);_dd.parentContainer=_db;_dd.parentEG=_da;_dd.messageFlows.messageFlow.sort(this.compareNames);_a9.forEach(_dd.messageFlows.messageFlow,function(_de){this._buildFlowObject(_de,_d9,[_da,_db,_dd]);},this);});},this);_da.applications.application.sort(this.compareNames);_a9.forEach(_da.applications.application,function(_df){this._buildHrefLinks(_df);_df.parentEG=_da;_df.messageFlows.messageFlow.sort(this.compareNames);_a9.forEach(_df.messageFlows.messageFlow,function(_e0){this._buildFlowObject(_e0,_d9,[_da,_df]);},this);_df.libraries.library.sort(this.compareNames);_a9.forEach(_df.libraries.library,function(_e1){this._buildHrefLinks(_e1);_e1.parentContainer=_df;_e1.parentEG=_da;_e1.messageFlows.messageFlow.sort(this.compareNames);_a9.forEach(_e1.messageFlows.messageFlow,function(_e2){this._buildFlowObject(_e2,_d9,[_da,_df,_e1]);},this);},this);},this);_da.messageFlows.messageFlow.sort(this.compareNames);_a9.forEach(_da.messageFlows.messageFlow,function(_e3){this._buildFlowObject(_e3,_d9,[_da]);},this);_da.libraries.library.sort(this.compareNames);_a9.forEach(_da.libraries.library,function(_e4){this._buildHrefLinks(_e4);_e4.parentEG=_da;_e4.messageFlows.messageFlow.sort(this.compareNames);_a9.forEach(_e4.messageFlows.messageFlow,function(_e5){this._buildFlowObject(_e5,_d9,[_da,_e4]);},this);},this);},_d7);return _d8;_ad.trace(_d7.widgetName,_ad.levels.ENTRY,"_refreshExecutionGroups().then.then",[_d8]);}catch(err){_ad.trace(_d7.widgetName,_ad.levels.ERROR,"_refreshExecutionGroups().then.then",[err]);}},function(err){_ad.trace(_d7.widgetName,_ad.levels.ERROR,"_refreshExecutionGroups().then.then",[err]);});_ad.trace(_d7.widgetName,_ad.levels.EXIT,"_refreshExecutionGroups().then",[ret]);return ret;},function(err){_ad.trace(_d7.widgetName,_ad.levels.ERROR,"_refreshExecutionGroups().then",[err]);});_ad.trace(this.widgetName,_ad.levels.EXIT,"_refreshExecutionGroups");},_refreshFlow:function(_e6,_e7){_ad.trace(this.widgetName,_ad.levels.ENTRY,"_refreshFlow",[_e6,_e7]);var _e8=this;var _e9,_ea;if(_e7&&_e7.loadDesign){_e9=_e6.getFlowDesign();}if(_e7&&_e7.loadProperties){_ea=_e6.getFlowProperties();}var _eb=all({flowDesign:_e9,flowProperties:_ea}).then(function(_ec){_ad.trace(_e8.widgetName,_ad.levels.ENTRY,"_refreshFlow().all.then",[_e6]);_ad.trace(_e8.widgetName,_ad.levels.EXIT,"_refreshFlow().all.then",[_e6]);return _e6;},function(err){_ad.trace(_e8.widgetName,_ad.levels.ERROR,"_refreshFlow().then",[err]);});_ad.trace(this.widgetName,_ad.levels.EXIT,"_refreshFlow",[_eb]);return _eb;},_refreshFlowDesign:function(_ed){_ad.trace(this.widgetName,_ad.levels.ENTRY,"_refreshFlowDesign()",[_ed]);var _ee=this;var _ef=this._callXhr(_ed.flowDesignUri).then(function(_f0){_ad.trace(_ee.widgetName,_ad.levels.ENTRY,"_refreshFlowDesign().then",[_f0]);_ad.trace(_ee.widgetName,_ad.levels.EXIT,"_refreshFlowDesign().then",[_f0]);return _f0;},function(err){_ad.trace(_ee.widgetName,_ad.levels.ERROR,"_refreshFlowDesign().then",[err]);});_ad.trace(this.widgetName,_ad.levels.EXIT,"_refreshFlowDesign()",[_ef]);return _ef;},_refreshFlowProperties:function(_f1){_ad.trace(this.widgetName,_ad.levels.ENTRY,"_refreshFlowProperties()",[_f1]);var _f2=this;var _f3=this._callXhr(_f1.propertiesUri).then(function(_f4){_ad.trace(_f2.widgetName,_ad.levels.ENTRY,"_refreshProperties().then",[_f4]);var _f5={};_a9.forEach(Object.keys(_f4),function(key){if(_f4[key] instanceof Array){var _f6={};_a9.forEach(_f4[key],function(_f7){_f6[_f7.name]=_f7.value;});_f5[key]=_f6;}else{_f5[key]=_f4[key];}});var _f8=/\$MQSI\s+(.*?)=(.*?)\s+MQSI\$/g;var _f9={};var _fa;while(1){_fa=_f8.exec(_f5.basicProperties.longDesc);if(_fa==null){break;}_f9[_fa[1]]=_fa[2];}_f5["customDescProperties"]=_f9;_ad.trace(_f2.widgetName,_ad.levels.EXIT,"_refreshProperties().then",[_f5]);return _f5;},function(err){_ad.trace(_f2.widgetName,_ad.levels.ERROR,"_refreshProperties().then",[err]);});_ad.trace(this.widgetName,_ad.levels.EXIT,"_refreshFlowProperties()",[_f3]);return _f3;},_refreshAllFlows:function(_fb){_ad.trace(this.widgetName,_ad.levels.ENTRY,"_refreshAllFlows",[_fb]);var _fc=this;var _fd=[];var ret=this.getAllMessageFlows().then(function(_fe){_ad.trace(_fc.widgetName,_ad.levels.ENTRY,"_refreshAllFlows.then",[_fe,_fb]);_a9.forEach(_fe,function(_ff,_100){_fd.push(_fc._refreshFlow(_ff,_fb));});var _101=all(_fd).then(function(_102){_ad.trace(_fc.widgetName,_ad.levels.ENTRY,"_refreshAllFlows().all.then",[_fd]);_ad.trace(_fc.widgetName,_ad.levels.EXIT,"_refreshAllFlows().all.then",[_102]);return _102;},function(err){_ad.trace(_fc.widgetName,_ad.levels.ERROR,"_refreshAllFlows().then",[err]);});_ad.trace(_fc.widgetName,_ad.levels.EXIT,"_refreshAllFlows.then",[_101]);return _101;},function(err){_ad.trace(_fc.widgetName,_ad.levels.ERROR,"_refreshAllFlows().then",[err]);});_ad.trace(this.widgetName,_ad.levels.EXIT,"_refreshAllFlows",[ret]);return ret;},_buildFlowObject:function(_103,_104,_105){_ad.trace(this.widgetName,_ad.levels.ENTRY,"_buildFlowObject",[_103,_104,_105]);var self=this;this._buildHrefLinks(_103);var _106=_103.uri.substr(1);_106=_106.substr(_106.indexOf("/")+1);_106=_106.substr(_106.indexOf("/"));_103.snapshotTopic=["$SYS","Broker",_104.name,"Statistics","JSON","SnapShot"].join("/")+decodeURI(_106);var _107=null;_103.getFlowProperties=function(){_ad.trace(self.widgetName,_ad.levels.ENTRY,"flow.getFlowProperties()",[_103,_107]);if(_107===null){_107=self._refreshFlowProperties(_103);}_ad.trace(self.widgetName,_ad.levels.EXIT,"flow.getFlowProperties()",[_103,_107]);return _107;};var _108=null;_103.getFlowDesign=function(){_ad.trace(self.widgetName,_ad.levels.ENTRY,"flow.getFlowDesign()",[_103,_108]);if(_108===null){_108=self._refreshFlowDesign(_103);}_ad.trace(self.widgetName,_ad.levels.EXIT,"flow.getFlowDesign()",[_103,_108]);return _108;};_103.parentContainer=_105[_105.length-1];_103.parentEG=_105[0];_103.getContainerName=function(){_ad.trace(self.widgetName,_ad.levels.ENTRY,"flow.getContainerName()",[_103]);var ret="";_105.slice(1).map(function(item){if(ret){ret+="/";}ret+=item.name;});_ad.trace(self.widgetName,_ad.levels.EXIT,"flow.getContainerName()",[ret]);return ret;};_103.setSnapshotStatistics=function(args){_ad.trace(self.widgetName,_ad.levels.ENTRY,"flow.setSnapshotStatistics()",[args]);if(typeof (args)==="string"){if(args==="on"){return self._callXhrMethod("PUT",_103.uri,{"snapshotStatistics":{"enabled":true,"nodeLevel":"basic","threadLevel":"basic","outputFormat":{"json":true}}});}else{if(args==="off"){return self._callXhrMethod("PUT",_103.uri,{"snapshotStatistics":{"enabled":false}});}else{throw "Error, don't know how to set statistics for "+args;}}}else{throw "Error, don't know how to set statistics for "+args;}_ad.trace(self.widgetName,_ad.levels.ENTRY,"flow.setSnapshotStatistics()",[args]);};this._allMessageFlows.push(_103);_ad.trace(this.widgetName,_ad.levels.EXIT,"_buildFlowObject",[_103]);},_buildHrefLinks:function(_109){var uri=_109.uri.substring(_109.uri.indexOf("/",1));_109.href="../#"+_109.type+"/0"+uri;_109.statsHref="../#"+_109.type+"/1"+uri;}});_af._instance=null;_af.getBrokerStore=function(){_ad.trace(_ae,_ad.levels.ENTRY,"getBrokerStore");if(_af._instance===null){_af._instance=new _af();}_ad.trace(_ae,_ad.levels.ENTRY,"getBrokerStore",[_af._instance]);return _af._instance;};return _af;});},"webui/Trace":function(){define(["dojo","dojo/string","dojo/_base/array","dojo/json"],function(dojo,_10a,_10b,json){return {serverLoggingEnabled:false,buffer:[],BUFFER_SIZE_THRESHOLD:1000,BUFFER_POST_INTERVAL:5000,levels:{ENTRY:{name:"ENTRY",symbol:">",level:1},EXIT:{name:"EXIT",symbol:"<",level:1},PUB:{name:"PUB",symbol:":",level:3},SUB:{name:"SUB",symbol:":",level:3},DEBUG:{name:"DEBUG",symbol:":",level:4},INFO:{name:"INFO",symbol:"I",level:7},WARNING:{name:"WARNING",symbol:"W",level:8},ERROR:{name:"ERROR",symbol:"E",level:9}},WIDGET_NAME_DISPLAY_LENGTH:50,SEVERITY_DISPLAY_LENGTH:7,TRACE_LEVEL:0,TRACE_PACKAGE:"webui.*",PADDING:"                                                  ",settings:{"*":7},defaultDisabledAlertIssued:false,setTraceSpec:function(_10c){var _10d=this;_10d.settings={"*":7};if(_10c){var _10e=_10c.split(":");dojo.forEach(_10e,function(_10f){try{var spec=_10f.split("=");var clas=spec[0];var _110=spec[1];if("all"==_110){_110=0;}else{if("debug"==_110){_110=_10d.levels.DEBUG.level;}else{if("entryExit"==_110){_110=_10d.level.ENTRY.level;}else{if("off"==_110){_110=_10d.level.INFO.level;}else{console.error("Unkown trace level found: "+_10f+".  Defaulting to all");_110=0;}}}}_10d.settings[clas]=_110;}catch(e){console.error("Error setting trace spec level for "+_10f+".  "+e);}});}},trace:function(_111,_112,_113,_114){var _115=this;try{var _116=_115.settings;if(!_114){_114="";}var _117=_115.levels.WARNING.level;if(_112){_117=_112.level;}else{console.error("Unknown severity for trace message:",_113);}var _118=false;if(_117!=null&&_111!=null){var _119=null;var name=_111;var _11a=dojo.queryToObject(window.location.search.substr((dojo.doc.location.search[0]==="?"?1:0)));if(typeof _11a.logging=="string"){switch(_11a.logging.toLowerCase()){case "all":_119=0;break;case "debug":_119=3;break;case "info":case "":_119=7;break;case "warning":_119=8;break;case "error":_119=9;break;default:console.error("Logging level "+_11a.logging+" is invalid. Valid values: all | debug | info | warning | error");_119=7;}}else{_119=7;}_118=(_117>=_119);}else{if(!_111){console.error(" No widget name specified for trace : "+_112+" : "+_113);_118=true;}}if(_118==true){var _11b=_111;if(_11b.length<_115.WIDGET_NAME_DISPLAY_LENGTH){_11b+=_115.PADDING.substring(0,_115.WIDGET_NAME_DISPLAY_LENGTH-_11b.length);}else{if(_11b.length>_115.WIDGET_NAME_DISPLAY_LENGTH){_11b=_11b.substring(_11b.length-_115.WIDGET_NAME_DISPLAY_LENGTH,_11b.length);}}var _11c=_112.name+_115.PADDING;_11c=_11c.substring(0,_115.SEVERITY_DISPLAY_LENGTH);var date=new Date();var _11d=date.getFullYear()+"-"+(date.getMonth()+1)+"-"+date.getDate()+" "+date.getHours()+":"+date.getMinutes()+":"+date.getSeconds()+"."+date.getMilliseconds();var _11e=_11d+" "+_11b+" "+_11c+" "+_112.symbol+" "+_113+" ";var _11f="";if(_11a.logComponent){_11f=_11a.logComponent;}var _120=true;if(_11f.length>0){var _121=_11f.split(",");_120=_10b.some(_121,function(item){if(_111.substring(0,item.length)==item){return true;}else{return false;}});}if(_120){if(_117<_115.levels.INFO.level){}else{if(_117==_115.levels.DEBUG.level){}else{if(_117==_115.levels.INFO.level){}else{if(_117==_115.levels.WARNING.level){console.warn(_11e,_114);}else{console.error(_11e,_114);}}}}}if(_115.serverLoggingEnabled){if(_114!=null){_114=""+_114;}if(_113==undefined){_113="";}var data={widgetName:_111,severity:_112.name,message:_113,args:_114};if(_115.buffer.push(data)>=_115.BUFFER_SIZE_THRESHOLD){_115.postTraceBuffer();}}}}catch(e){console.error("ERROR while tracing",e,[_112,_113,_114]);}},postTraceBuffer:function(){var _122=this.buffer;if(_122.length>0){var _123=json.stringify(_122);_122.length=0;var _124=new XMLHttpRequest();_124.open("POST","/ui/handler/trace",false);_124.send(_123);if(_124.status!=200){_122.push({widgetName:"ui.Globals",severity:this.levels.ERROR.name,message:"Error sending trace to server.  Previous UI trace discarded",args:""});}}}};});},"url:webui/widgets/templates/Selector.html":"<div id=\"_id\"  data-dojo-attach-point='selectorDijitId' style=\"clear:both\" class=\"webui_selector_container\">\r\n    <h1 class=\"webui_selector\">${titleString}</h1>\r\n\r\n    <div class=\"webui_selector\">\r\n        <div data-dojo-attach-point=\"applicationMonitoringDiv\" role=\"region\" aria-labelledby=\"applicationMonitoringTitle\">\r\n            <h2 id=\"applicationMonitoringTitle\">${applicationMonitoringTitle}</h2>\r\n            <table data-dojo-attach-point=\"applicationMonitoringAttach\" role=\"presentation\"></table>\r\n        </div>\r\n        <div data-dojo-attach-point=\"operationalMonitoringDiv\" role=\"region\" aria-labelledby=\"operationalMonitoringTitle\">\r\n            <h2 id=\"operationalMonitoringTitle\">${operationalMonitoringTitle}</h2>\r\n            <div class=\"subheading\">${operationalMonitoringDesc}</div>\r\n            <table data-dojo-attach-point=\"operationalMonitoringAttach\" role=\"presentation\"></table>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n","url:webui/widgets/templates/OperationalMonitoring.html":"<div id=\"_id\"  data-dojo-attach-point='operationalMonitoringDijitId' style=\"clear:both\" class=\"operational_monitoring_container\">\r\n    <h1 class=\"webui_selector\">${titleString}</h1>\r\n    <div class=\"operational_monitoring\" id=\"operationalMonitoringMain\">\r\n        <div data-dojo-attach-point='gridId' class=\"gridxContainer\">\r\n            <div data-dojo-attach-point='loadingIcon' class=\"widget loadingIcon\"></div>\r\n        </div>\r\n    </div>\r\n</div>\r\n\r\n","*now":function(r){r(["dojo/i18n!*preload*webui/nls/main*[\"de\",\"es\",\"fr\",\"ja\",\"pl\",\"pt-br\",\"tr\",\"zh-cn\",\"zh-tw\"]"]);}}});