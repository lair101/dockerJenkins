<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="copyright" content="Copyright IBM Corporation 2011, 2014"/>
    <link rel="stylesheet" type="text/css" href="./css/pattern.css"/>
    <title>Healthcare: Medical devices to EMR pattern</title>
    <!-- 
    (C) COPYRIGHT International Business Machines Corp., 2011, 2014
    All Rights Reserved * Licensed Materials - Property of IBM
    -->
</head>
<body role="main">
<h1 class="topictitle1">Healthcare: Medical devices to EMR pattern</h1>
<div>
    <p class="shortdesc"/>
    <p>
    The
    <span>
    Healthcare: Medical devices to EMR
    </span>
    pattern integrates medical devices with an Electronic Medical Record (EMR) 
    application that can receive Health Level Seven International (HL7) v2 
    observation result messages (ORU R01). The application must be capable of 
    receiving HL7 ORU R01 messages by using Minimal Lower Layer Protocol (MLLP) over 
    TCP/IP.
    </p>
</div>
<div class="image">
    <img src="overview.png" alt="A diagram showing the Healthcare: Medical devices to EMR pattern" />
</div>
<div>
	<p><b>Note:</b> This pattern was made available in IBM WebSphere Message Broker Connectivity Pack 
	for Healthcare Version 7.0 and is still available and supported in this version of 
	IBM Integration Bus Healthcare Pack. However, this pattern 
	still uses MRM and the HL7v25P message set instead of the DFDL message model that is introduced with 
	IBM WebSphere Message Broker Connectivity Pack for Healthcare Version 8.
	The DFDL message model is recommended for new and updated applications because it has the following benefits:
	<ul>
		<li>DFDL is an open-standard format whereas MRM and the HL7v25P message set are proprietary to IBM Integration Bus
		</li>
		<li>The DFDL editor provides simpler tools for developing and testing extensions to the HL7 schema, compared to 
		MRM and the HL7v25P message set
		</li>
		<li>The DFDL message model supports HL7 versions 2.7, 2.6, 2.5.1 and earlier whereas MRM and the HL7v25P message
		set only support HL7 version 2.5.1 and earlier
		</li>
	</ul>
	</p>
</div>
<div>
    <h2>Important!</h2>
    <p>
    You must deploy the HL7 message set to your integration node before deploying a pattern 
    instance. The message set is used to parse HL7 messages as they are processed by 
    the message flows. Message flows generated by the pattern cannot be deployed to 
    your integration node until the message set has been deployed.
    </p>
    <p>
    You can import the HL7 message set into your workspace from the <a href="resources.htm"
    title="Resources for the pattern">Resources for the pattern</a> page.
    </p>
    <p>
    The HL7 message set takes a long time to build and can significantly slow down 
    your workspace - you are therefore recommended to do the following:
    <ul>
        <li>
            Import the HL7 message set into your workspace
        </li>
        <li>
            Add the HL7 message set to a BAR file
        </li>
        <li>
            Deploy the BAR file to your integration node
        </li>
        <li>
            Delete the HL7 message set and BAR file from your workspace
        </li>
    </ul>
    </p>
    <p>
    If you want to use the Graphical Mapper for message transformations, you will 
    need to leave the HL7 message set in your workspace. You can reduce the time it 
    takes to build the message set by deleting the HL7 chapters from the message set. 
    Leave the
    <span class="filepath">
    segments.mxsd
    </span>
    ,
    <span class="filepath">
    fields.mxsd
    </span>
    and
    <span class="filepath">
    datatypes.mxsd
    </span>
    message definition files in the message set as they are required by the pattern.
    </p>
    <p>
    If you are using database lookups for patient identification and configure the 
    pattern instance to create a web service, then you must import and deploy the 
    PatientIdentifiersService message set. The SOAP nodes in the web service flow 
    require this message set as it contains the WSDL file. This message set and also 
    a message set which models the measurements from the MedicalDeviceInput node are 
    available from the <a href="resources.htm" title="Resources for the pattern">Resources 
    for the pattern</a> page.
    </p>
    <p>
    The MedicalDeviceInput node message set can be used with the Graphical Mapper 
    for message transformations of device messages. Make sure you set the target 
    parser to be DataObject for the output message in the Graphical Mapper because 
    it defaults to XMLNSC. This pattern expects all device messages to be in the 
    DataObject domain and will not work correctly if you use XMLNSC.
    </p>
</div>
<div class = "description">
    <h2>Options</h2>
    <p>
    The Medical Devices flow in this pattern supports the following options:
    </p>
    <ul>
        <li>
            Receiving messages from medical devices - a default configurable service is 
            created to generate data from a virtual device driver.
        </li>
        <li>
            Publishing or sending to a queue, each incoming message for processing outside 
            the pattern
        </li>
        <li>
            Sending output to the Transform and Route queue
        </li>
        <li>
            Setting an expiry time so that aged device messages are discarded
        </li>
    </ul>
    <p>
    The Transform and Route flow in this pattern supports the following options:
    </p>
    <ul>
        <li>
            Transforming to a canonical HL7 format
        </li>
        <li>
            Publishing or sending to a queue, the canonical message for processing outside 
            the pattern
        </li>
        <li>
            Customization points to enable the inclusion of destination-specific changes
        </li>
        <li>
            Transforming to HL7 and sending the output to the queue for the Sender flow
        </li>
        <li>
            Associating device messages with patient identifiers through a database lookup 
            using a database defined as part of this pattern
        </li>
        <li>
            Instructions to create the database tables for DB2 or Oracle is supplied, and 
            the database is reached via ODBC from the pattern
        </li>
    </ul>
    <p>
    The Sender flow in this pattern supports the following options:
    </p>
    <ul>
        <li>
            Reading transformed messages for the destination
        </li>
        <li>
            Validating transformed messages
        </li>
        <li>
            Delivering HL7 messages to the destination application by using MLLP over TCP/IP
        </li>
    </ul>
    <p>
    This pattern can optionally generate a web service to manage the patient 
    identifiers database:
    </p>
    <ul>
        <li>
            Web service implemented as a message flow to get, set and clear patient 
            identifiers
        </li>
        <li>
            Log all web service requests to a queue
        </li>
        <li>
            Implements the web service as queries or updates to a database
        </li>
    </ul>
    <p>
    All the message flows generated by this pattern handle exceptions by using 
    queues to store the error information.
    </p>
</div>
<div class="familylinks">
    <a name="anchorBack"></a>
    <div class="section">
        <h2 class="sectiontitle">Further information</h2>
        <div>
            <a href="customizing.htm">Customizing a pattern instance</a>
        </div>
        <div>
            <a href="design.htm">Design of the pattern</a>
        </div>
        <div>
            <a href="management.htm">Managing a pattern instance</a>
        </div>
        <div>
            <a href="parameters.htm">Pattern parameters</a>
        </div>
        <div>
            <a href="resources.htm">Resources for the pattern</a>
        </div>
        <div>
            <a href="create.htm">Setting up the patient identifier database</a>
        </div>
        <div>
            <a href="testing.htm">Testing the pattern</a>
        </div>
        <div>
            <a href="remove.htm">Cleaning up the patient identifier database</a>
        </div>
    </div>
</div>
<p>
</p>
</body>
</html>
