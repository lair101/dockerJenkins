<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="copyright" content="Copyright IBM Corporation 2011, 2014"/>
    <link rel="stylesheet" type="text/css" href="./css/pattern.css"/>
    <title>Setting up the patient identifier database</title>
    <!-- 
       (C) COPYRIGHT International Business Machines Corp., 2011, 2014
       All Rights Reserved * Licensed Materials - Property of IBM
      -->
</head>
<body role="main">
<div>
    <h1 class="topictitle1">Setting up the patient identifier database</h1>
    <p class="shortdesc">
    The
    <span>
    Healthcare: Medical devices to EMR
    </span>
    pattern can optionally query a database for patient identifiers. Patient 
    identification is important so that device measurements are associated with the 
    correct patient. The database associates device identifiers with patient 
    identifiers. The device identifiers are propagated in the messages from the 
    MedicalDeviceInput Node. The patient identifier is added by the pattern instance 
    to the HL7 v2 observation result messages (ORU R01) sent to the destination 
    application.
    </p>
    <p>
    You need a database with one table and an ODBC definition to lookup patient 
    identifiers. To access the database the integration node must be configured with a user 
    identifier and password.
    </p>
</div>
<h2>Set up the database tables</h2>
<p>
Complete the following tasks to setup the database tables:
</p>
<ol>
    <li>
        Create the database
        <p>
        Follow the instructions that are relevant to your database manager:
        </p>
        <ul>
            <li>
                <a href="create_db2.htm">Set up DB2</a>
            </li>
            <li>
                <a href="create_oracle.htm">Set up Oracle</a>
            </li>
        </ul>
    </li>
</ol>
<h2>Set up the database environment for the integration node</h2>
<p>
Complete the following tasks to setup the database environment for the integration node:
</p>
<ol>
    <li>
        Create an ODBC definition for the PATSDB database with
        <span class="input">
        PATIENTSDSN
        </span>
        as the data source name (DSN); see Enabling ODBC connections to the databases in 
        the IBM Integration Bus documentation.
    </li>
    <li>
        Specify the user identifier and password that are associated with the data 
        source name
        <span class="input">
        PATIENTSDSN
        </span>
        .
        <p>
        Use the
        <span class="uicontrol">
        mqsisetdbparms
        </span>
        command to specify a user identifier and password that the integration node can use with 
        the
        <span class="input">
        PATIENTSDSN
        </span>
        data source. This user identifier must be the same user identifier that you used 
        when you created the database in the previous step. The user identifier 
        determines the database schema name, and the integration node must use the same user 
        identifier when accessing the table. For example, if your user identifier is
        <span class="input">
        USERID
        </span>
        , the fully-qualified name of the PATSDB table name is
        <span class="filepath">
        USERID.PATSDB
        </span>
        .
        </p>
        <ol>
            <li>
                Open a command console window in which you can run IBM Integration Bus 
                commands. Enter the following command to specify the user identifier and 
                password:
                <pre>mqsisetdbparms <var>integration node</var> -n PATIENTSDSN -u &lt;user ID&gt; -p &lt;password&gt;</pre>
            </li>
            <li>
                Enter the following command to reload the integration server:
                <pre>mqsireload <var>integration node</var> -e <var>integration server name</var></pre>
            where <var>integration node</var> is the name of your integration node, and where <var>integration server name</var> is the name of your integration server.
            </li>
        </ol>
    </li>
</ol>
<p>
</p>
<a href="overview.htm#anchorBack" title="Back">Back to the Healthcare: Medical 
devices to EMR pattern specification</a>
<p>
</p>
</body>
</html>
