<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="ja-jp" xml:lang="ja-jp">
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="copyright" content="Copyright IBM Corporation 2014" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2014" />
<meta name="dc.date" scheme="iso8601" content="2013-12-13"/>
<meta name="IBM.Effective" scheme="W3CDTF" content="2013-12-13"/>
<meta name="description" content="「Healthcare: HL7 Transformation」パターン"/>
<meta name="IBM.Country" content="ZZ" />
<meta name="keywords" content="Healthcare,HL7"/>
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="concept" />
<meta name="security" content="public"/>
<link rel="stylesheet" type="text/css" href="./css/pattern.css" />
<!-- 
    (C) COPYRIGHT International Business Machines Corp., 2014
    All Rights Reserved * Licensed Materials - Property of IBM
    -->
<title>「Healthcare: HL7 Transformation」パターン</title>
</head>
<body role="main">
	<h1 class="topictitle1">「Healthcare: HL7 Transformation」パターン</h1>
	<div>
		<p class="shortdesc"></p>
	</div>
	<p>「Healthcare: HL7 Transformation」パターンは、HL7 メッセージを組み立てるために使用できるグラフィカル・データ・マップを生成します。
	</p>
	<p>HL7 メッセージには通常多くのデータ・セグメントが含まれています。セグメント自体にも多数の個別フィールドが含まれています。
新しい HL7 メッセージを作成する時は、HL7 メッセージ階層を作成する必要があります。
この階層には、何百、あるいは何千のフィールドが含まれる場合があります。
このような階層の作成は、グラフィカル・マッピング・ツールを使ったとしても非常に時間がかかる作業です。
「Healthcare: HL7 Transformation」パターンは、この問題を解決するのに役立ちます。
選択した HL7 メッセージすべてのフィールドにデフォルト値を割り当てるグラフィカル・データ・マップを生成するからです。</p>

		<img src="MapGeneration1.png" alt="「HL7 変換」ソリューションの画像"/>
	<div class="section">
		<h2 class="sectiontitle">ソリューション</h2>
	</div>

	<p>「Healthcare: HL7 Transformation」パターンを以下のような方法で使用することができます。</p>
	<ul>
		<li>特定の HL7 メッセージを選択します。それぞれの選択で、以下の成果物が生成されます。<ul>
				<li>グラフィカル・データ・マップ</li>
				<li>各 HL7 セグメント定義のサブマップ</li>
			</ul> 生成されたすべての成果物は、<span
			class="msobjpropval"><var>pattern_instance_name_</var>HL7v27TransformLibrary</span> という名前のライブラリーに置かれます。
ここで、<var>pattern_instance_name_</var> はパターン・インスタンスの名前を指します。

			複数の最上位マップから HL7 セグメントのサブマップを呼び出すことができます。</li>
		<li>特定の HL7 セグメントを選択します。それぞれの選択で、グラフィカル・データ・マップのサブマップが生成され、<span class="msobjpropval"><var>pattern_instance_name_</var>HL7v27TransformLibrary</span> ライブラリーに組み込まれます。このパターンの外部で作成した独自のグラフィカル・データ・マップからこれらのセグメント・サブマップを呼び出すこともできます。</li>
	</ul>

	<p>パターン・パラメーターには以下のオプションがあります。</p>
	<ul>
		<li>グラフィカル・データ・マップまたは計算ノード変換ロジック (ESQL) を生成することができます。</li>
		<li>HL7 メッセージの個別のフィールドに割り当てる値を選択することができます。</li>
		<li>HL7 メッセージ・ヘッダー (MSH) セグメントのフィールドの値を個別に設定できます。</li>
		<li>変換ロジックの使用法を示すサンプル・メッセージ・フローを作成できます。</li>			
	</ul>
	
	<p>「Healthcare: HL7 Transformation」パターンを生成すると、HL7 メッセージ・モデルがワークスペースの <span class="msobjpropval">HL7v27DFDLLibrary</span> ライブラリーに自動的にインポートされます。このライブラリーが存在する場合は、警告が表示されます。そのまま続けることを選択すると、既存のライブラリーが上書きされます。HL7 メッセージ・モデルをカスタマイズする場合は、パターンのインスタンスを生成した後に変更を加えてください。</p>

	<p>サンプル・メッセージ・フローを作成するためのパターン・パラメーターを選択すると、そのフローに 3つのノードが組み込まれます。</p>
	<ul>
		<li>MQInput ノード。このノードは、<span	class="msobjpropval"><var>pattern_instance_name</var>.RXF1</span> という名前のキューから入力メッセージを取り込みます (<var>pattern_instance_name</var> はパターン・インスタンスの名前です)。</li>		
		<li>Mapping ノードまたは Compute ノード。<span class="uicontrol">「生成」</span>パターン・パラメーターの選択内容に基づいて、そのいずれかになります。</li>
		<li>MQOutput ノード。このノードは、<span	class="msobjpropval"><var>pattern_instance_name</var>.DEST1</span> という名前のキューに出力メッセージを書き出します (<var>pattern_instance_name</var> はパターン・インスタンスの名前です)。</li>		
	</ul>	
	
	<p>メッセージ・フローで使用するキューを作成するために実行できるスクリプトが生成されます。</p>
	
	<p>「Healthcare: HL7 Transformation」パターンを使用して、選択構造を組み込んだ 	HL7 メッセージを作成するための変換ロジックを生成すると、生成されるグラフィカル・データ・マップまたは ESQL で、サブマップまたはプロシージャー呼び出しがそれぞれ用意されます。そのサブマップまたはプロシージャー呼び出しによって、選択構造の最初の子を作成します。グラフィカル・データ・マップの場合は、他の選択オプションのプレースホルダーを用意するために、タスク変換を使用します。ESQL の場合は、他の選択オプションのプレースホルダーを用意するために、コメント化したプロシージャー呼び出しを使用します。</p>
	
	<div>
				<a href="parameters.htm">パターンのパラメーター</a>
	</div>
	
</body>
</html>
