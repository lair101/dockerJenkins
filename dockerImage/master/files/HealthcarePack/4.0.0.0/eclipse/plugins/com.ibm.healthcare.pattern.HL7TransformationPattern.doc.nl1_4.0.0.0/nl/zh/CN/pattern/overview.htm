<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="zh-CN" xml:lang="zh-cn">
<head>
 <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<meta name="copyright" content="Copyright IBM Corporation 2014" />
<meta name="DC.Rights.Owner" content="© Copyright IBM Corporation 2014" />
<meta name="dc.date" scheme="iso8601" content="2013-12-13"/>
<meta name="IBM.Effective" scheme="W3CDTF" content="2013-12-13"/>
<meta name="description" content="“Healthcare：HL7 变换”模式"/>
<meta name="IBM.Country" content="ZZ" />
<meta name="keywords" content="Healthcare,HL7"/>
<meta name="Robots" content="index,follow" />
<meta name="DC.Type" content="概念" />
<meta name="security" content="public"/>
<link rel="stylesheet" type="text/css" href="./css/pattern.css" />
<!-- 
    (C) COPYRIGHT International Business Machines Corp., 2014
    All Rights Reserved * Licensed Materials - Property of IBM
    -->
<title>“Healthcare：HL7 变换”模式</title>
</head>
<body role="main">
	<h1 class="topictitle1">“Healthcare：HL7 变换”模式</h1>
	<div>
		<p class="shortdesc"></p>
	</div>
	<p>“Healthcare：HL7 变换”模式生成可用于组合 HL7 消息的图形数据图。</p>
	<p>HL7 消息通常包含多个数据段。这些段自身也可能包含大量单独的字段。在创建新的 HL7 消息时，必须创建 HL7 消息层次结构。此层次结构可能包含数百或数千个字段。创建此层次结构可能耗费大量时间，即使是使用图形映射工具。“Healthcare：HL7 变换”模式通过生成图形数据图帮助解决此问题，它会为所选 HL7 消息中的所有字段分配缺省值。</p>

		<img src="MapGeneration1.png" alt="图像：显示 HL7 变换解决方案"/>

	<div class="section">
		<h2 class="sectiontitle">解决方案</h2>
	</div>

	<p>您可以通过以下方式使用“Healthcare：HL7 变换”模式：</p>
	<ul>
		<li>选择特定 HL7 消息。每个选择都生成以下工件：<ul>
				<li>图形数据图</li>
				<li>每个 HL7 段定义的子图</li>
			</ul> 所有生成的工件都存放在名为 <span
			class="msobjpropval"><var>pattern_instance_name_</var>HL7v27TransformLibrary</span> 的库中，其中，<var>pattern_instance_name_</var> 是模式实例的名称。您可以从多个顶级图中调用 HL7 段子图。</li>
		<li>选择特定 HL7 段。每个选择都生成一个“图形数据图”子图，此子图位于库 <span class="msobjpropval"><var>pattern_instance_name_</var>HL7v27TransformLibrary</span> 中。您可以从此模式外部创建的子集的“图形数据图”中调用这些段子图。</li>
	</ul>

	<p>模式参数提供以下选项：</p>
	<ul>
		<li>您可以生成“图形数据图”或计算节点变换逻辑 (ESQL)。</li>
		<li>您可以选择值以分配给 HL7 消息中的各个字段。</li>
		<li>您可以针对 HL7 消息头 (MSH) 段中的字段设置各个值。</li>
		<li>您可以创建示例消息流以演示如何使用变换逻辑。</li>			
	</ul>
	
	<p>生成“Healthcare：HL7 变换”模式时，HL7 消息模型自动导入到工作空间的库 <span class="msobjpropval">HL7v27DFDLLibrary</span> 中。如果此库存在，将显示警告。如果您选择继续，将覆盖现有库。如果您希望定制 HL7 消息模型，请在生成模式实例后进行更改。</p>

	<p>如果选择模式参数以创建示例消息流，它将包含三个节点：</p>
	<ul>
		<li>MQInput 节点，从名为 <span	class="msobjpropval"><var>pattern_instance_name</var>.RXF1</span> 的队列获取输入消息，其中 <var>pattern_instance_name</var> 是模式实例的名称。</li>		
		<li>映射节点或计算节点，具体取决于您对“<span class="uicontrol">生成</span>”模式参数的选择。</li>
		<li>MQOutput 节点，将输出消息写入名为 <span	class="msobjpropval"><var>pattern_instance_name</var>.DEST1</span> 的队列，其中 <var>pattern_instance_name</var> 是模式实例的名称。</li>		
	</ul>	
	
	<p>生成一个脚本，您可以运行该脚本以创建消息流使用的队列。</p>
	
	<p>如果使用“Healthcare：HL7 变换”模式为创建包含选择结构的 HL7 消息生成变换逻辑，那么生成的“图形数据图”或 ESQL 分别提供子图或过程调用。该子图或过程调用生成选择结构的第一个子代。如果是“图形数据图”，将使用任务变换为其他选择选项提供占位符。如果是 ESQL，使用带有注释的过程调用为其他选择选项提供占位符。</p>
	
	<div>
				<a href="parameters.htm">模式参数</a>
	</div>
	
</body>
</html>
