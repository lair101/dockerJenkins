<?php
$assignValue=$_MB['PP']['ppAssignValue'];
echo <<<MAP
<?xml version="1.0" encoding="UTF-8"?>
<mappingRoot domainID="com.ibm.msl.mapping.xml" domainIDExtension="mb" mainMap="false" targetNamespace="default" version="8.0.3.0" xmlns="http://www.ibm.com/2008/ccl/Mapping" xmlns:map="default">
	<input path="jar:file://!com/ibm/etools/mft/map/xsds/predefined/BlobMessage.xsd"/>
	<output path="/segments.xsd"/>
	<generation engine="xquery"/>
	<mappingDeclaration name="CreateHL7Segment_MSH">
		<input path="BLOB"/>
		<output namespace="urn:hl7-org:v2xml" path="MSH"/>
MAP;
echo			"<assign value=\"".$_MB['PP']['ppMSH1']."\">\n";
echo				"<output path=\"MSH.1.FieldSeparator\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH2ComponentSep']."\">\n";
echo				"<output path=\"MSH.2.ServiceString/ComponentSeparator\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH2RepeatSep']."\">\n";
echo				"<output path=\"MSH.2.ServiceString/RepeatSeparator\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH2EscapeChar']."\">\n";
echo				"<output path=\"MSH.2.ServiceString/EscapeCharacter\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH2SubCompSep']."\">\n";
echo				"<output path=\"MSH.2.ServiceString/SubComponentSeparator\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH3HD1']."\">\n";
echo				"<output path=\"MSH.3.SendingApplication/HD.1\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH3HD2']."\">\n";
echo				"<output path=\"MSH.3.SendingApplication/HD.2\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH3HD3']."\">\n";
echo				"<output path=\"MSH.3.SendingApplication/HD.3\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH4HD1']."\">\n";
echo				"<output path=\"MSH.4.SendingFacility/HD.1\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH4HD2']."\">\n";
echo				"<output path=\"MSH.4.SendingFacility/HD.2\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH4HD3']."\">\n";
echo				"<output path=\"MSH.4.SendingFacility/HD.3\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH5HD1']."\">\n";
echo				"<output path=\"MSH.5.ReceivingApplication/HD.1\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH5HD2']."\">\n";
echo				"<output path=\"MSH.5.ReceivingApplication/HD.2\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH5HD3']."\">\n";
echo				"<output path=\"MSH.5.ReceivingApplication/HD.3\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH6HD1']."\">\n";
echo				"<output path=\"MSH.6.ReceivingFacility/HD.1\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH6HD2']."\">\n";
echo				"<output path=\"MSH.6.ReceivingFacility/HD.2\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH6HD3']."\">\n";
echo				"<output path=\"MSH.6.ReceivingFacility/HD.3\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH7']."\">\n";
echo				"<output path=\"MSH.7.DateTimeOfMessage\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH8']."\">\n";
echo				"<output path=\"MSH.8.Security\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH9MSG1']."\">\n";
echo				"<output path=\"MSH.9.MessageType/MSG.1\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH9MSG2']."\">\n";
echo				"<output path=\"MSH.9.MessageType/MSG.2\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH9MSG3']."\">\n";
echo				"<output path=\"MSH.9.MessageType/MSG.3\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH10']."\">\n";
echo				"<output path=\"MSH.10.MessageControlID\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH11PT1']."\">\n";
echo				"<output path=\"MSH.11.ProcessingID/PT.1\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH11PT2']."\">\n";
echo				"<output path=\"MSH.11.ProcessingID/PT.2\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH12VID1']."\">\n";
echo				"<output path=\"MSH.12.VersionID/VID.1\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"$assignValue\">\n";
echo				"<output path=\"MSH.12.VersionID/VID.2/CWE.1\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH13']."\">\n";
echo				"<output path=\"MSH.13.SequenceNumber\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH14']."\">\n";
echo				"<output path=\"MSH.14.ContinuationPointer\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH15']."\">\n";
echo				"<output path=\"MSH.15.AcceptAcknowledgmentType\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH16']."\">\n";
echo				"<output path=\"MSH.16.ApplicationAcknowledgmentType\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH17']."\">\n";
echo				"<output path=\"MSH.17.CountryCode\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH18']."\">\n";
echo				"<output path=\"MSH.18.CharacterSet\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH19CWE1']."\">\n";
echo				"<output path=\"MSH.19.PrincipalLanguageOfMessage/CWE.1\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH20']."\">\n";
echo				"<output path=\"MSH.20.AlternateCharacterSetHandlingScheme\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH21EI1']."\">\n";
echo				"<output path=\"MSH.21.MessageProfileIdentifier/EI.1\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH21EI2']."\">\n";
echo				"<output path=\"MSH.21.MessageProfileIdentifier/EI.2\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH21EI3']."\">\n";
echo				"<output path=\"MSH.21.MessageProfileIdentifier/EI.3\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH21EI4']."\">\n";
echo				"<output path=\"MSH.21.MessageProfileIdentifier/EI.4\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH22XON1']."\">\n";
echo				"<output path=\"MSH.22.SendingResponsibleOrganization/XON.1\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH23XON1']."\">\n";
echo				"<output path=\"MSH.23.ReceivingResponsibleOrganization/XON.1\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH24HD1']."\">\n";
echo				"<output path=\"MSH.24.SendingNetworkAddress/HD.1\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH24HD2']."\">\n";
echo				"<output path=\"MSH.24.SendingNetworkAddress/HD.2\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH24HD3']."\">\n";
echo				"<output path=\"MSH.24.SendingNetworkAddress/HD.3\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH25HD1']."\">\n";
echo				"<output path=\"MSH.25.ReceivingNetworkAddress/HD.1\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH25HD2']."\">\n";
echo				"<output path=\"MSH.25.ReceivingNetworkAddress/HD.2\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"".$_MB['PP']['ppMSH25HD3']."\">\n";
echo				"<output path=\"MSH.25.ReceivingNetworkAddress/HD.3\"/>\n";
echo			"</assign>\n";
echo			"<assign value=\"$assignValue\">\n";
echo				"<output path=\"Remainder\"/>\n";
echo			"</assign>\n";
echo	"</mappingDeclaration>\n";
echo	"</mappingRoot>\n";
?>