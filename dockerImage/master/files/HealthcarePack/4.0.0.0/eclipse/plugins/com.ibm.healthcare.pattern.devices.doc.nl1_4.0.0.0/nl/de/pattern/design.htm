<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="de-de" xml:lang="de-de">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="copyright" content="Copyright IBM Corporation 2011, 2014"/>
    <link rel="stylesheet" type="text/css" href="./css/pattern.css"/>
    <!--
    (C) COPYRIGHT International Business Machines Corp., 2011, 2014
    All Rights Reserved * Licensed Materials - Property of IBM
    --> 
    <title>Design des Musters 'Healthcare: Medizinische Geräte an HL7'</title>
</head>
<body role="main">
<a name="links"></a>
<div class="section">
    <h1 class="topictitle1">Design des Musters 'Healthcare: Medizinische Geräte an HL7'</h1>
    <p class="shortdesc">
    Dieses Muster liest mithilfe des MedicalDeviceInput-Knotens Messungen und Alerts von medizinischen Geräten. Die gemessenen Werte des Geräts werden in HL7-Überwachungsergebnisnachrichten (ORU R01) transformiert. Die transformierten Nachrichten werden unter Verwendung des HL7-MLLP-Protokolls an eine Zielanwendung wie beispielsweise eine Elektronische Patientenakte (EKA) gesendet.
</p>
</div>
<div>
    <p>
    Dieses Thema enthält folgende Abschnitte:
    </p>
    <div>
        <a href="design.htm#devices">Nachrichtenfluss 'Medical Devices'</a>
    </div>
    <div>
        <a href="design.htm#transform">Nachrichtenfluss 'Transform and Route'</a>
    </div>
    <div>
        <a href="design.htm#sender">Nachrichtenfluss 'Sender'</a>
    </div>
    <div>
        <a href="design.htm#service">Nachrichtenfluss 'Service'</a>
    </div>
    <div>
        <a href="design.htm#results">Überwachungsergebnisse</a>
    </div>
    <div>
        <a href="design.htm#output">Ausgabe aus einer Musterinstanz</a>
    </div>
</div>
<div class="section">
    <a name="devices"></a><h2>Nachrichtenfluss 'Medical Devices'</h2>
    <p>
    Der Nachrichtenfluss 'Medical Devices' (Medizinische Geräte) verarbeitet die Nachrichten vom MedicalDeviceInput-Knoten. Jede Nachricht verfügt über eine Ablaufzeit, die ihrem MQRFH2-Header hinzugefügt wird. Die Nachrichten werden in eine Warteschlange geschrieben, die für den Nachrichtenfluss 'Transform and Route' bereit ist. Sobald eine Nachricht in die Warteschlange geschrieben wurde, wird eine Journalnachricht für die Gerätemessung veröffentlicht.
</p>
</div>
<div class="section">
    <a name="transform"></a><h2>Nachrichtenfluss 'Transform and Route'</h2>
    <p>
    Der Nachrichtenfluss 'Transform and Route' (Transformation und Weiterleitung) konvertiert eine Gerätenachricht in ein HL7-Überwachungsergebnis (ORU R01). Der Nachrichtenfluss prüft jede Gerätemessung, um sicherzustellen, dass die zugehörige Messung gültig ist. Ungültige Messungen werden in eine Warteschlange geschrieben und gelöscht. Wenn das Muster für die Suche von Patientenkennungen konfiguriert ist, wird die Gerätekennung als Schlüssel für eine Datenbanktabelle verwendet, mit dem die Patientenkennung abgerufen wird, welche der Gerätemessung zugeordnet ist. Die transformierte HL7-Nachricht wird für den Nachrichtenfluss 'Sender' in eine Warteschlange mit fehlenden Übereinstimmungen geschrieben.
</p>
</div>
<div class="section">
    <a name="sender"></a><h2>Nachrichtenfluss 'Sender'</h2>
    <p>
    Der Nachrichtenfluss 'Sender' liest die HL7-Nachrichten aus einer Warteschlange und sendet diese unter Verwendung des HL7-MLLP-Protokolls an die Zielanwendung. Wenn die Nachrichtenzustellung unterbrochen wird, versucht der Nachrichtenfluss 'Sender' die Zustellung erneut. Die Anzahl der Wiederholungen ist in der Konfiguration festgelegt. Der Nachrichtenfluss 'Sender' überprüft die Ablaufzeit der Nachricht. Wenn die Verarbeitung der Nachricht zu lange gedauert hat, wird die Nachricht in eine Warteschlange abgelaufener Nachrichten gestellt und anschließend gelöscht.
</p>
</div>
<div class="section">
    <a name="service"></a><h2>Nachrichtenfluss 'Service'</h2>
    <p>
    Das Muster kann optional eine Web-Service-Schnittstelle für die Datenbank der Patientenkennungen erstellen. Die Schnittstelle wird mithilfe eines Nachrichtenflusses implementiert. Web-Service-Anforderungen werden über einen SOAPInput-Knoten empfangen und an einen Compute-Knoten weitergeleitet, der die erforderliche Datenbankabfrage oder -aktualisierung ausführt. Der Nachrichtenfluss benötigt für die Konfiguration der SOAP-Knoten eine WSDL-Nachrichtengruppe. Diese Nachrichtengruppe wird im Thema über die Musterressourcen angegeben.
</p>
</div>
<div class="section">
    <a name="results"></a><h2>Überwachungsergebnisse</h2>
    <p>
    In den folgenden Tabellen ist dargestellt, wie die Segmente in HL7-ORU-R01-Nachrichten erstellt werden:
    </p>
</div>
<div class="tablenoborder">
    <h4>MSH</h4>
    <p>
    Das MSH-Segment definiert die Absicht, die Quellenkennung, die Zielkennung und bestimmte Spezifikationen der Syntax einer HL7-Nachricht.
</p>
    <table summary="" width="100%" border="1" cellpadding="4" cellspacing="0" frame="border" rules="all">
        <thead align="left">
        <tr>
            <th class="firstcol" align="left" valign="top" width="33%">Feldname</th>
            <th class="invisible" valign="top" width="33%">Feldwert in der Überwachungsergebnisnachricht</th>
            <th class="invisible" valign="top" width="33%">Konfiguriert durch Musterparameter</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">MSH1 - Feldtrennzeichen</th>
            <td valign="top" width="*" class="invisible">
                <span class="msobjpropval">
                '|'
                </span>
            </td>
            <td></td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">MSH - Servicezeichenfolge</th>
            <td valign="top" width="*" class="invisible">
                <span class="msobjpropval">
                '^~\&amp;'
                </span>
            </td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">MSH3 - Sendende Anwendung</th>
            <td valign="top" width="*" class="invisible">'Message Broker'</td>
            <td valign="top" width="*" class="invisible">
                <span class="msobjprop">
                Quellenkennung
                </span>
            </td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">MSH4 - Sendende Einrichtung</th>
            <td valign="top" width="*" class="invisible">''</td>
            <td valign="top" width="*" class="invisible">
                <span class="msobjprop">
                Quelleneinrichtung
                </span>
            </td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">MSH5 - Empfangende Anwendung</th>
            <td valign="top" width="*" class="invisible">'EKA'</td>
            <td>
                <span class="msobjprop">
                Ziel-ID
                </span>
            </td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">MSH6 - Empfangende Einrichtung</th>
            <td valign="top" width="*" class="invisible">''</td>
            <td>
                <span class="msobjprop">
                Zieleinrichtung
                </span>
            </td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">MSH7 - Datum/Uhrzeit der Nachricht</th>
            <td valign="top" width="*" class="invisible">Wird aus der Zeitmarke in der Nachricht des MedicalDeviceInput-Knotens kopiert</td>
            <td valign="top" width="*" class="invisible"></td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">MSH9 - Nachrichtentyp</th>
            <td valign="top" width="*" class="invisible">
                <span class="msobjpropval">
                'ORU^R01^ORU_R01'
                </span>
            </td>
            <td valign="top" width="*" class="invisible"></td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">MSH10 - Nachrichtensteuerungs-ID</th>
            <td valign="top" width="*" class="invisible">UUID oder aktuelle Zeitmarke im Format JJJJMMTTHHmmssSSSSSS</td>
            <td valign="top" width="*" class="invisible">
                <span class="msobjprop">
                Nachrichten-IDs
                </span>
            </td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">MSH11 - Verarbeitende ID</th>
            <td valign="top" width="*" class="invisible">
                <span class="msobjpropval">
                'P'
                </span>
            </td>
            <td valign="top" width="*" class="invisible"></td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">MSH12 - Versions-ID</th>
            <td valign="top" width="*" class="invisible">
                <span class="msobjpropval">
                '2.5'
                </span>
            </td>
            <td valign="top" width="*" class="invisible"></td>
        </tr>
        </tbody>
    </table>
    <h4>PID</h4>
    <p>
    Das PID-Segment wird von allen Anwendungen als primäres Mittel für die Übertragung von Informationen zur Identifikation von Patienten verwendet.  Dieses Segment enthält permanente Informationen zur Patientenidentifikation sowie permanente demografische Informationen, die sich in der Regel nicht häufig ändern.
</p>
    <table summary="" width="100%" border="1" cellpadding="4" cellspacing="0" frame="border" rules="all">
        <thead align="left">
        <tr>
            <th class="firstcol" align="left" valign="top" width="33%">Feldname</th>
            <th class="invisible" valign="top" width="33%">Feldwert in der Überwachungsergebnisnachricht</th>
            <th class="invisible" valign="top" width="33%">Konfiguriert durch Musterparameter</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">PID.3.PatientIdentifierList</th>
            <td valign="top" width="*" class="invisible">Dieses Feld wird durch den Musterparameter
                <span class="msobjprop">
                Patienten-IDs</span>
                bestimmt.
<p>
                Dieses Feld wird nicht ausgewertet, wenn die Einstellung
                <span class="msobjpropval">
                Keine Patienten-IDs in Untersuchungsergebnissen</span>
                ausgewählt ist.
</p>
                <p>
                Bei der Einstellung <span class="msobjpropval">Use patient identifiers from device</span> (Patientenkennungen aus Gerät verwenden) wird die Patientenkennung aus der Nachricht in dieses Feld kopiert.
</p>
                <p>
                Wenn die Einstellung
            <span class="msobjpropval">
                In Datenbank nach Patienten-IDs suchen
                </span>
                ausgewählt ist, wird die Gerätekennung für die Suche einer zugeordneten Patienten-ID in einer Datenbank verwendet.
</p>
            </td>
            <td valign="top" width="*" class="invisible">
                <span class="msobjprop">
                                Patienten-IDs</span>
</td>
        </tr>
        </tbody>
    </table>
    <h4>PV1</h4>
    <p>
    Das PV1-Segment wird von Anwendungen der Patientenverwaltung für die Übertragung von Informationen auf Konten- oder Visitenbasis verwendet.
</p>
    <table summary="" width="100%" border="1" cellpadding="4" cellspacing="0" frame="border" rules="all">
        <thead align="left">
        <tr>
            <th class="firstcol" align="left" valign="top" width="33%">Feldname</th>
            <th class="invisible" valign="top" width="33%">Feldwert in der Überwachungsergebnisnachricht</th>
            <th class="invisible" valign="top" width="33%">Konfiguriert durch Musterparameter</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">PV1.2.PatientClass</th>
            <td valign="top" width="*" class="invisible">'I'</td>
            <td valign="top" width="*" class="invisible">
                <span class="msobjprop">
                Patientenklasse
                </span>
            </td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">PV1.3.AssignedPatientLocation</th>
            <td valign="top" width="*" class="invisible">Standort aus der Nachricht des MedicalDeviceInput-Knotens</td>
            <td valign="top" width="*" class="invisible"></td>
        </tr>
        </tbody>
    </table>
    <h4>OBR</h4>
    <p>
    Bei der Berichterstellung über klinische Daten dient OBR als Ergebnisheader.  Das OBR-Segment identifiziert die Überwachungsgruppe, die durch die folgenden Überwachungen des Typs 'atomic' dargestellt wird. 
    Es enthält die relevanten Informationen zur Reihenfolge, sofern zutreffend. Darüber hinaus umfasst es viele der Attribute, die in der Regel für alle einbezogenen Überwachungen gelten.
</p>
    <table summary="" width="100%" border="1" cellpadding="4" cellspacing="0" frame="border" rules="all">
        <thead align="left">
        <tr>
            <th class="firstcol" align="left" valign="top" width="33%">Feldname</th>
            <th class="invisible" valign="top" width="33%">Feldwert in der Überwachungsergebnisnachricht</th>
            <th class="invisible" valign="top" width="33%">Konfiguriert durch Musterparameter</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">OBR.7.ObservationDateTime</th>
            <td valign="top" width="*" class="invisible">Wie
<span class="msobjprop">
                MSH7 - Datum/Uhrzeit der Nachricht
                </span>
</td>
            <td valign="top" width="*" class="invisible"></td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">OBR.10.CollectorIdentifier</th>
            <td valign="top" width="*" class="invisible">Wie
<span class="msobjprop">
                PV1.3.AssignedPatientLocation
                </span>
</td>
            <td valign="top" width="*" class="invisible"></td>
        </tr>
        </tbody>
    </table>
    <h4>OBX</h4>
    <p>
    Das OBX-Segment wird für die Übertragung einer einzelnen Überwachung oder eines Überwachungsfragments verwendet. 
    Es stellt die kleinste nicht teilbare Ergebniseinheit dar.
</p>
    <table summary="" width="100%" border="1" cellpadding="4" cellspacing="0" frame="border" rules="all">
        <thead align="left">
        <tr>
            <th class="firstcol" align="left" valign="top" width="33%">Feldname</th>
            <th class="invisible" valign="top" width="33%">Feldwert in der Überwachungsergebnisnachricht</th>
            <th class="invisible" valign="top" width="33%">Konfiguriert durch Musterparameter</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">OBX.1.SetIDOBX</th>
            <td valign="top" width="*" class="invisible">Numerischer Index des OBX-Segments ab 1.</td>
            <td valign="top" width="*" class="invisible"></td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">OBX.2.ValueType</th>
            <td valign="top" width="*" class="invisible">'ST'</td>
            <td valign="top" width="*" class="invisible"></td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">OBX.3.ObservationIdentifier</th>
            <td valign="top" width="*" class="invisible">Primäre und sekundäre Kennungen aus der Nachricht des MedicalDeviceInput-Knotens sowie eine Kurzbeschreibung des Messtyps.</td>
            <td valign="top" width="*" class="invisible"></td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">OBX.5.ObservationValue</th>
            <td valign="top" width="*" class="invisible">Wert aus der Nachricht des MedicalDeviceInput-Knotens.</td>
            <td valign="top" width="*" class="invisible"></td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">OBX.6.Units</th>
            <td valign="top" width="*" class="invisible">Einheiten aus der Nachricht des MedicalDeviceInput-Knotens.</td>
            <td valign="top" width="*" class="invisible"></td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">OBX.11.ObservationResultStatus</th>
            <td valign="top" width="*" class="invisible">'D'</td>
            <td valign="top" width="*" class="invisible"></td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">OBX.14.DateTimeoftheObservation</th>
            <td valign="top" width="*" class="invisible">Wie
<span class="msobjprop">
                MSH7 - Datum/Uhrzeit der Nachricht
                </span>
</td>
            <td valign="top" width="*" class="invisible"></td>
        </tr>
        </tbody>
    </table>
    <p>
    Das Muster erstellt mehrere OBX-Segmente für Signalformnachrichten, da diese mehrere Messungen enthalten können.
</p>
</div>
<div class="section">
    <a name="output"></a><h2>Ausgabe aus einer Musterinstanz</h2>
    <p>
    Neben den HL7-Nachrichten, die an die Zielanwendung weitergeleitet werden, stellt dieses Muster mehrere sonstige Ausgaben zur Verfügung. Diese Ausgaben werden entweder in eine Warteschlange geschrieben oder an einen Veröffentlichungsknoten gesendet. Das Ziel wird durch den Musterparameter
        <span class="msobjprop">
    Veröffentlichen
        </span> festgelegt
.     Falls die Option
    <span class="msobjpropval">
    Veröffentlichen
        </span> festgelegt
    ausgewählt ist, werden alle Informationen mithilfe einer Themenhierarchie veröffentlicht, die mit dem Namen der Musterinstanz beginnt.
</p>
    <p>
    Falls die Option
    <span class="msobjpropval">
    In Warteschlange schreiben</span>
    ausgewählt ist, wird die Ausgabe an Warteschlangen mit Namen gesendet, die aus dem Musterparameter
        <span class="msobjprop">
    Warteschlangenpräfix
        </span>
    und einer festgelegten Gruppe von Suffixen generiert sind, wie in der folgenden Tabelle gezeigt.
</p>
    <p>
    <b>Hinweis</b>: Die anfängliche Facette jedes Themas (der Name der Musterinstanz) wird nicht angezeigt.
</p>
</div>
<div class="tablenoborder">
    <table summary="" width="100%" border="1" cellpadding="4" cellspacing="0" frame="border" rules="all">
        <thead align="left">
        <tr>
            <th class="firstcol" align="left" valign="top" width="20%">Ausgabe</th>
            <th class="invisible" valign="top" width="15%">Warteschlangensuffix</th>
            <th class="invisible" valign="top" width="15%">Thema</th>
            <th valign="top" width="50%">Hinweise</th>
        </tr>
        </thead>
        <tbody>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">Journal</th>
            <td valign="top" width="*" class="invisible">.JRNL</td>
            <td valign="top" width="*" class="invisible">/Journal</td>
            <td valign="top" width="*" class="invisible">Diese Ausgabe stellt ein Journal eingehender Nachrichten im Standardmusterformat zur Verfügung.
<p>
                Siehe Hinweis 1.
                </p>
            </td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">An 'Transform and Route'</th>
            <td valign="top" width="*" class="invisible">.RXF</td>
            <td valign="top" width="*" class="invisible">Nicht zutreffend</td>
            <td valign="top" width="*" class="invisible">Jede Nachricht wird an den Nachrichtenfluss 'Transform and Route' gesendet. </td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">Fehlerhafte Nachrichten</th>
            <td valign="top" width="*" class="invisible">.ERR</td>
            <td valign="top" width="*" class="invisible">Nicht zutreffend</td>
            <td valign="top" width="*" class="invisible">Nachrichten, die nicht ordnungsgemäß verarbeitet werden können, werden an die Fehlerwarteschlange gesendet. Sie enthalten Fehlerinformationen in einem MQRFH2-Header.</td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">Kanonisch</th>
            <td valign="top" width="*" class="invisible">.CAN</td>
            <td valign="top" width="*" class="invisible">/Canonical</td>
            <td valign="top" width="*" class="invisible">Wenn die Option zur Ausgabe eines kanonischen Feeds ausgewählt wurde, wird die Eingabenachricht in einem kanonischen HL7-Format geschrieben.</td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">An Sender</th>
            <td valign="top" width="*" class="invisible">.DEST</td>
            <td valign="top" width="*" class="invisible">Nicht zutreffend</td>
            <td valign="top" width="*" class="invisible">Jede Nachricht wird nach ihrer Transformation in HL7 an den Nachrichtenfluss 'Sender' gesendet. </td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">Abgelaufene Nachrichten</th>
            <td valign="top" width="*" class="invisible">.EXP</td>
            <td valign="top" width="*" class="invisible">Nicht zutreffend</td>
            <td valign="top" width="*" class="invisible">Nachrichten, die die konfigurierte Ablaufzeit überschritten haben, werden in diese Warteschlange geschrieben. </td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">Serviceprotokoll</th>
            <td valign="top" width="*" class="invisible">.LOG</td>
            <td valign="top" width="*" class="invisible">Nicht zutreffend</td>
            <td valign="top" width="*" class="invisible">Speichert eine Kopie aller SOAP-Anforderungs- und -Antwortnachrichten für den Web-Service der Patientenkennungen.</td>
        </tr>
        <tr>
            <th align="left" valign="top" width="*" class="firstcol">Keine übereinstimmende Patientenkennung</th>
            <td valign="top" width="*" class="invisible">.NOMATCH</td>
            <td valign="top" width="*" class="invisible">Nicht zutreffend</td>
            <td valign="top" width="*" class="invisible">Nachrichten, die keine übereinstimmende Patientenkennung aufweisen, werden in diese Warteschlange geschrieben. </td>
        </tr>
        </tbody>
    </table>
    <p>
    <b>Hinweis 1:</b> Aus einer Quellennachricht wird durch das Hinzufügen von MQMD- und MQRFH2-Headern eine Journalnachricht erstellt. Der MQRFH2-Header enthält Folgendes:
    </p>
    <ul>
        <li>
            Name des Integrationsknotens
        </li>
        <li>
            Nachrichtenfluss
        </li>
        <li>
            Aktuelle Zeitmarke
        </li>
    </ul>
</div>
<p>
</p>
<a href="overview.htm#anchorBack" title="Zurück">Zurück zur Spezifikation des Musters 'Healthcare: Medizinische Geräte an EKA'</a>
<p>
</p>
</body>
</html>
