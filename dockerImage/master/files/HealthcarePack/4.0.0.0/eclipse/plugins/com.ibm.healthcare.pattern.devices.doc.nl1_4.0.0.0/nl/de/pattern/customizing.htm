<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="de-de" xml:lang="de-de">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="copyright" content="Copyright IBM Corporation 2011, 2014"/>
    <link rel="stylesheet" type="text/css" href="./css/pattern.css"/>
    <!-- 
        (C) COPYRIGHT International Business Machines Corporation., 2011, 2014
        All Rights Reserved * Licensed Materials - Property of IBM
    --> <title>Musterinstanz 'Healthcare: HL7 an Berichte' anpassen</title>
</head>
<body role="main">
<a name="links"></a> <h1 class="topictitle1">Instanz des Musters 'Healthcare: Medizinische Geräte an EKA' anpassen</h1>
<div class="section">
    <a name="customize"></a> <h2 class="sectiontitle">Untergeordnete Flüsse anpassen</h2>
    <p>
    Den Benutzern des Musters stehen zehn Hauptanpassungspunkte zur Verfügung. Diese untergeordneten Flüsse werden in verschiedenen Verarbeitungsstufen aufgerufen, wenn Gerätenachrichten vom MedicalDeviceInput-Knoten weitergegeben, in HL7 transformiert und an die EKA-Anwendung zugestellt werden. 
    Am häufigsten müssen HL7-Überwachungsergebnisnachrichten angepasst werden. Hierfür wird empfohlen, den untergeordneten Nachrichtenfluss <tt>OnDestination</tt> zu ändern.
</p>
    <h3>Nachrichtenfluss 'Medical Devices'</h3> 
    <div class="image">
        <img src="devices.png" alt="Diagramm mit einer Darstellung des Nachrichtenflusses 'Medical Devices'" />
    </div>
    <h4>Anpassung aufgrund des Status</h4>
    <p>
    Der untergeordnete Nachrichtenfluss <tt>OnStatus</tt> wird aufgerufen, wenn eine Statusnachricht vom MedicalDeviceInput-Knoten weitergegeben wird. Statusnachrichten enthalten Informationen, Warnungen und Fehler zum Gerätestatus. Der MedicalDeviceInput-Knoten kann in einer Fehlernachricht beispielsweise melden, dass er keine Verbindung zu einem medizinischen Gerät herstellen kann. Dieser untergeordnete Nachrichtenfluss wird häufig zum Senden eines Alerts verwendet, wenn ein medizinisches Gerät eine Fehlerbedingung meldet.
</p>
    <h3>Nachrichtenfluss 'Transform and Route'</h3> 
    <div class="image">
        <img src="transform.png" alt="Diagramm mit einer Darstellung des Nachrichtenflusses 'Transform and Route'" />
    </div>
    <h4>Anpassung aufgrund ungültiger Messungen</h4>
    <p>
    Der untergeordnete Nachrichtenfluss <tt>OnInvalid</tt> wird aufgerufen, wenn eine Gerätemessung weitergegeben wird, die einen anderen Gültigkeitswert als <span class="msobjpropval">
    CM_VALID
    </span> aufweist. Das Gültigkeitselement in der Gerätenachricht steht für die Verlässlichkeit der Messung des medizinischen Geräts. Vom Muster werden nur gültige Gerätenachrichten transformiert und zugestellt.
</p>
    <h4>Anpassung aufgrund fehlender Übereinstimmung</h4>
    <p>
    Der untergeordnete Nachrichtenfluss <tt>OnNoMatch</tt> wird aufgerufen, wenn eine Gerätenachricht verarbeitet wird, die keine Patientenkennung enthält. Er wird nur aufgerufen, wenn der Musterparameter <span class="msobjprop">
    Patienten-IDs</span>
    auf einen anderen Wert als <span class="msobjpropval">
    Keine Patienten-IDs in Untersuchungsergebnissen</span>
. Wenn Gerätemessungen keine zugeordnete Patientenkennung aufweisen, stellt dies nicht immer eine Fehlerbedingung dar. Es kann beispielsweise vorkommen, dass ein Gerät eingeschaltet bleibt und weiterhin Gerätenachrichten erstellt, die Patientenzuordnung jedoch aus der Datenbank entfernt wurde.
</p>
    <h4>Anpassung aufgrund der Messung</h4>
    <p>
    Der untergeordnete Nachrichtenfluss <tt>OnMeasure</tt> wird für jede Gerätemessung aufgerufen, die vom MedicalDeviceInput-Knoten weitergegeben wird. Da dieser untergeordnete Nachrichtenfluss vor der Transformation der Gerätenachricht in HL7 aufgerufen wird, enthält er die ungeänderte Messung vom MedicalDeviceInput-Knoten. Unter anderem wird mit diesem untergeordneten Nachrichtenfluss der Wert der primären ID (<span class="msobjprop">PrimaryId</span>) in der Nachricht in den richtigen Code für die Elektronische Krankenakte (EKA) geändert (zum Beispiel bei einem LOINC-Code).
</p>
    <h3>Nachrichtenfluss 'Sender'</h3> 
    <div class="image">
        <img src="sender.png" alt="Diagramm mit einer Darstellung des Nachrichtenflusses 'Sender'" />
    </div>
    <h4>Anpassung aufgrund des Ziels</h4>
    <p>
    Der untergeordnete Nachrichtenfluss <tt>OnDestination</tt> wird aufgerufen, nachdem die Gerätenachricht in HL7 transformiert wurde. Nach dem Aufruf dieses untergeordneten Nachrichtenflusses wird die Nachricht in die Zielwarteschlange geschrieben und kann der EKA zugestellt werden. Dieser untergeordnete Nachrichtenfluss wird in der Regel für die Anpassung der HL7-Überwachungsergebnisnachrichten an standortspezifische Nachrichtenanforderungen verwendet.
</p>
    <h4>Anpassung aufgrund eines Ablaufs</h4>
    <p>
    Über den Musterparameter <span class="msobjprop">
    Ablaufzeit</span>
    wird sichergestellt, dass keine alten Nachrichten an die EKA-Anwendung übermittelt werden. Die Ablaufprüfung erfolgt direkt vor dem Versenden der transformierten HL7-Nachricht an die Zielanwendung. Abgelaufene Nachrichten werden in eine Ablaufwarteschlange geschrieben und gelöscht. Dieser untergeordnete Nachrichtenfluss wird für die transformierte HL7-Nachricht aufgerufen, bevor diese in die Ablaufwarteschlange geschrieben wird.
</p>
    <h4>Anpassung aufgrund der Beendigung</h4>
    <p>
    Der untergeordnete Nachrichtenfluss <tt>OnFinished</tt> wird aufgerufen, nachdem eine transformierte HL7-Nachricht zugestellt und deren Empfang von der Zielanwendung bestätigt wurde.
</p>
    <h4>Anpassung aufgrund des Absenders</h4>
    <p>
    Der untergeordnete Nachrichtenfluss <tt>OnSend</tt> wird aufgerufen, bevor die transformierte HL7-Nachricht an die HL7-Zielanwendung gesendet wird. Der untergeordnete Nachrichtenfluss bietet die Gelegenheit, letzte Änderungen vorzunehmen, bevor die HL7-Nachricht an die EKA-Anwendung gesendet wird.
</p>
    <h3>Nachrichtenfluss 'Web Services'</h3> 
    <div class="image">
        <img src="service.png" alt="Diagramm mit einer Darstellung des Nachrichtenflusses 'Web Services'" />
    </div>
    <h4>Anpassung aufgrund des Service</h4>
    <p>
    Das Muster stellt einen Web-Service zur Verfügung, mit dem die Datenbank der Patientenkennungen verwaltet werden kann. 
    Der untergeordnete Nachrichtenfluss <tt>OnService</tt> wird für jede Anforderung aufgerufen, die an diesen Web-Service gestellt wird.
</p>
    <h3>Fehlerbehandlung</h3> 
    <p>
    Jeder Hauptnachrichtenfluss im Muster verfügt über einen eigenen untergeordneten Nachrichtenfluss zur Fehlerbehandlung. 
    Fehlernachrichten werden in eine gemeinsame Fehlerwarteschlange geschrieben, die für das gesamte Muster gilt. </p>
    <h4>Anpassung aufgrund eines Fehlers</h4>
    <p>
    Der untergeordnete Nachrichtenfluss <tt>OnErrorQueue</tt> wird aufgerufen, wenn ein Fehler festgestellt wurde. Eine Fehlernachricht wird in die Fehlerwarteschlange geschrieben. Der standardmäßige untergeordnete Nachrichtenfluss zur Anpassung hat keine Auswirkung auf die Nachricht, Sie können mit diesem untergeordneten Nachrichtenfluss jedoch eine Fehlernachricht erstellen, die den Spezifikationen entspricht, die von Ihrer Umgebung benötigt werden.
</p>
</div>
<a href="overview.htm#anchorBack" title="Zurück">Zurück zur Spezifikation des Musters 'Healthcare: Medizinische Geräte an EKA'</a>
<p>
</p>
</body>
</html>
