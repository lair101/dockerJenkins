<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja" lang="ja">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="copyright" content="Copyright IBM Corporation 2011, 2014"/>
    <link rel="stylesheet" type="text/css" href="./css/pattern.css"/>
    <title>Oracle のセットアップ</title>
    <!-- 
       (C) COPYRIGHT International Business Machines Corp., 2011, 2014
       All Rights Reserved * Licensed Materials - Property of IBM
      -->
</head>
<body class="sampcont" role="main">
<h1>Oracle のセットアップ</h1>
<p>
ここで示す手順では、Oracle データベースを使用することを前提に、以下のタスクについて説明します。
</p>
<ul>
    <li>
PATSDB というデータベースを作成します。
</li>
    <li>
患者とデバイスとの関連付けを保管する、表 PATIENTS を作成します。
</li>
</ul>
<p>
<b>注</b>: データベース表を作成し、それにアクセスする際には、以下の事項に留意してください。
</p>
<ul>
    <li>
データベースに表を作成するスクリプトを実行するとき、スクリプトを実行する際のユーザー ID によってデータベース・スキーマ名が決まります。
例えば、ユーザー ID が <span class="input">USERID</span> である場合、PATIENTS 表の完全修飾名は USERID.PATIENTS です。
</li>
    <li>
データベースにアクセスするために、データベースおよび表の作成時に使用したのと同じユーザー ID が使用されるようにパターン・インスタンスを構成します。スキーマ名を構成に含めてください。
例えば、<span class="filepath">Database.USERID.PATIENTS</span> とします。
</li>
</ul>
<p>
以下のステップを実行します。
</p>
<ol>
    <li>
PATSDB というデータベースを作成します。
</li>
    <li>
テキスト・エディターで新しい文書を開き、PATIENTS 表を作成する以下のスクリプトをコピーしてその文書に貼り付け、ファイル名を <span class="filepath">patients_create_tables_oracle.sql</span> として、そのファイルを保存します。
<pre>
DROP TABLE "PATIENTS";
CREATE TABLE "PATIENTS" (
    "DEVICEID" VARCHAR(50) NOT NULL PRIMARY KEY,
    "PATIENTID" VARCHAR(50) NOT NULL
);
        </pre>
    </li>
    <li>
データベースにアクセスするために開いたコマンド・ウィンドウで、<span class="filepath">patients_create_tables_oracle.sql</span> が含まれるフォルダーに移動し、以下のコマンドを実行します。
<pre>sqlplus &lt;uid&gt;/&lt;password&gt; @patients_create_tables_oracle.sql</pre>
        <p>
スクリプトの実行が終了するまで待ちます。
初めてこのスクリプトを実行する場合には、以下のメッセージが表示されます。
</p>
        <pre>ORA-00942: table or view does not exist</pre>
このメッセージは無視してください。
このメッセージは次の理由で表示されます。
スクリプトによって、既存の表 PATIENTS の除去が、新規表の作成前に試みられますが、これまでスクリプトを実行したことがない場合、この表は存在しません。
</li>
</ol>
<p>
</p>
<a href="create.htm" title="戻る">患者 ID データベースのセットアップに戻る</a>
<p>
</p>
</body>
</html>
