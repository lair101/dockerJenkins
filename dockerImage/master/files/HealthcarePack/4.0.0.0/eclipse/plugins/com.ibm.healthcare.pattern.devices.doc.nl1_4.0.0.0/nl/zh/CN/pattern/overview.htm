<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cn" lang="zh-CN">
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <meta name="copyright" content="Copyright IBM Corporation 2011, 2014"/>
    <link rel="stylesheet" type="text/css" href="./css/pattern.css"/>
    <title>“Healthcare：医疗设备到 EMR”模式</title>
    <!-- 
    (C) COPYRIGHT International Business Machines Corp., 2011, 2014
    All Rights Reserved * Licensed Materials - Property of IBM
    -->
</head>
<body role="main">
<h1 class="topictitle1">“Healthcare：医疗设备到 EMR”模式</h1>
<div>
    <p class="shortdesc"/>
    <p>
    “<span>Healthcare：医疗设备到 EMR</span>”模式将医疗设备与能够接收
Health Level Seven International (HL7) V2 观察结果消息 (ORU R01)
的电子医疗记录 (EMR) 应用程序集成。此应用程序必须能够使用基于 TCP/IP 的
Minimal Lower Layer Protocol (MLLP) 协议接收 HL7 ORU R01 消息。
</p>
</div>
<div class="image">
    <img src="overview.png" alt="此图显示“Healthcare：医疗设备到 EMR”模式" />
</div>
<div>
	<p><b>注：</b>该模式在 IBM WebSphere Message Broker Connectivity Pack for Healthcare V7.0 中便已可用，而且在本版本的 IBM Integration Bus Healthcare Pack 中仍然可用并受支持。但是，该模式仍然使用 MRM 和 HL7v25P 消息集，而不是使用随 IBM WebSphere Message Broker Connectivity Pack for Healthcare V8 引入的 DFDL 消息模型。对于新应用程序以及经过更新的应用程序，建议使用
DFDL 消息模型，这是因为此模型具有下列优点：<ul>
		<li>DFDL 是一种开放标准格式，而 MRM 和 HL7v25P 消息集是 IBM Integration Bus 的专有格式</li>
		<li>DFDL 编辑器提供了用于开发和测试 HL7 模式扩展的工具，与 MRM 和 HL7v25P 消息集相比更为简单</li>
		<li>DFDL 消息模型支持 HL7 V2.7、V2.6、V2.5.1 及之前版本，而 MRM 和 HL7v25P 消息集仅支持 HL7 V2.5.1 及之前版本</li>
	</ul>
	</p>
</div>
<div>
    <h2>重要事项！</h2>
    <p>
    必须先将 HL7 消息集部署到集成节点，然后再部署模式实例。此消息集用于在消息流处理 HL7
消息时对这些消息进行解析。直到部署此消息集之后，此模式生成的消息流才能部署到集成节点。</p>
    <p>
    您可以从<a href="resources.htm" title="模式的资源">模式的资源</a>页面将 HL7 消息集导入到工作空间中。</p>
    <p>
    构建 HL7 消息集需要花费较长时间，并且可能会显著减慢工作空间的速度 - 因此，建议您执行下列操作：<ul>
        <li>
            将该 HL7 消息集导入到工作空间中</li>
        <li>
            将该 HL7 消息集添加到 BAR 文件中</li>
        <li>
            将该 BAR 文件部署到集成节点</li>
        <li>
            从工作空间中删除该 HL7 消息集和 BAR 文件</li>
    </ul>
    </p>
    <p>
    如果要使用图形映射器进行消息变换，那么需要将 HL7
消息集留在工作空间中。通过从消息集中删除 HL7
章节，可以缩短构建该消息集所需的时间。
    请将
<span class="filepath">segments.mxsd</span>、<span class="filepath">fields.mxsd</span> 和
<span class="filepath">datatypes.mxsd</span> 消息定义文件保留在消息集中，这些文件是此模式所必需的。</p>
    <p>
    如果要通过数据库查找来定位患者标识，并将模式实例配置为创建 Web 服务，那么必须导入并部署 PatientIdentifiersService
消息集。Web 服务流中的 SOAP 节点需要此消息集，这是因为，此消息集包含
WSDL 文件。您可以从<a href="resources.htm" title="模式的资源">模式的资源</a>页面获取此消息集以及用于对来自
MedicalDeviceInput 节点的测量进行建模的消息集。
</p>
    <p>
    MedicalDeviceInput 节点消息集可以与图形映射器配合使用，以便对设备消息进行消息变换。对于图形映射器中的输出消息，请确保将目标解析器设置为 DataObject（缺省为 XMLNSC）。此模式期望所有设备消息都在 DataObject 域中，如果使用 XMLNSC，那么此模式将无法正常工作。
</p>
</div>
<div class = "description">
    <h2>选项</h2>
    <p>
    此模式中的“医疗设备”流支持下列选项：</p>
    <ul>
        <li>
            接收来自医疗设备的消息 - 创建了缺省的可配置服务，用于通过虚拟设备驱动程序生成数据。</li>
        <li>
            将每条入局消息发布或发送到队列，以便在模式外部进行处理</li>
        <li>
            将输出发送到“变换并路由”队列</li>
        <li>
            设置到期时间，以便废弃过期的设备消息</li>
    </ul>
    <p>
    此模式中的“变换并路由”流支持下列选项：</p>
    <ul>
        <li>
            变换为规范 HL7 格式</li>
        <li>
            将规范消息发布或发送到队列，以便在模式外部进行处理</li>
        <li>
            定制点，用于支持包括特定于目标的更改</li>
        <li>
            变换为 HL7，并将输出发送到“发送方”流的队列</li>
        <li>
            借助作为此模式的组成部分定义的数据库，通过数据库查找使设备消息与患者标识相关联</li>
        <li>
            提供了用于为 DB2 或 Oracle 创建数据库表的指示信息，并通过 ODBC 从模式中访问数据库</li>
    </ul>
    <p>
    此模式中的“发送方”流支持下列选项：</p>
    <ul>
        <li>
            为目标读取变换后的消息</li>
        <li>
            对变换后的消息进行验证</li>
        <li>
            使用基于 TCP/IP 的 MLLP 将 HL7 消息交付到目标应用程序</li>
    </ul>
    <p>
    此模式可以选择性地生成 Web 服务，用于管理患者标识数据库：</p>
    <ul>
        <li>
            Web 服务作为消息流实现，用于获取、设置和清除患者标识</li>
        <li>
            记录针对队列发出的所有 Web 服务请求</li>
        <li>
            实现 Web 服务作为对数据库进行的查询或更新</li>
    </ul>
    <p>
    此模式生成的所有消息流都使用队列来存储错误信息，从而处理异常。</p>
</div>
<div class="familylinks">
    <a name="anchorBack"></a>
    <div class="section">
        <h2 class="sectiontitle">更多信息</h2>
        <div>
            <a href="remove.htm">清理患者标识数据库</a></div>
        <div>
            <a href="customizing.htm">定制模式实例</a></div>
        <div>
            <a href="design.htm">模式设计</a></div>
        <div>
            <a href="management.htm">管理模式实例</a></div>
        <div>
            <a href="parameters.htm">模式参数</a></div>
        <div>
            <a href="resources.htm">模式的资源</a></div>
        <div>
            <a href="create.htm">设置患者标识数据库</a></div>
        <div>
            <a href="testing.htm">测试模式</a></div>
    </div>
</div>
<p>
</p>
</body>
</html>
