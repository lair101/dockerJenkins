<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="zh-CN" xmlns="http://www.w3.org/1999/xhtml" xml:lang="zh-cn">
<head>
	<!--
		(c) Copyright IBM Corporation 2015. All rights reserved.
		All Rights Reserved * Licensed Materials - Property of IBM 
	-->

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="abstract" content="“患者标识交叉引用管理器”模式的概述"/>
	<link rel="stylesheet" type="text/css" href="./css/pattern.css"/>
	<title>“Healthcare：患者标识交叉引用管理器”模式</title>
	<script language="JavaScript" src="../help/actions.js" type="text/javascript"></script>
</head>
<body role="main">
<h1 class="topictitle1">“<span>Healthcare：患者标识交叉引用管理器</span>”模式</h1>
<div>
	<p class="shortdesc">将“<span>Healthcare：患者标识交叉引用管理器</span>”模式与 IBM&reg; InfoSphere&reg; Master Data Management (MDM) 一起使用可创建与“Integrating the Healthcare Enterprise (IHE) 患者标识交叉引用 (PIX)”概要文件一致的“患者标识交叉引用管理器”。然后可将临床应用程序与该模式集成以充当“患者标识源”和“患者标识交叉引用使用者”参与者，如 PIX 概要文件中所定义。</p>
</div>
<div class="section">
	<h2 class="sectiontitle">解决方案</h2>
	<p>可使用“<span>Healthcare：患者标识交叉引用管理器</span>”模式来创建通过 MLLP 从临床应用程序（PIX 概要文件中的“患者标识源”）接收 ADT HL7 消息的集成解决方案。然后，此集成解决方案会将相应的应答返回到该临床应用程序，如 PIX 概要文件所指定。如果消息有效，那么此集成解决方案将使用 SOAP 请求/响应消息来更新企业主患者索引 (EMPI)，如消息的内容所指定。EMPI 将在 IBM InfoSphere MDM 中运行。</p>
	<p>如果 ADT 消息的类型为 A01、A04 或 A05，那么消息中包含的患者详细信息将作为新记录添加到 EMPI。如果已存在具有这些详细信息的现有患者，那么无法添加患者。</p>
	<p>如果 ADT 消息的类型为 A08，那么消息中包含的患者详细信息将用于更新 EMPI 中的现有记录。仅当已存在具有这些详细信息的现有患者时才能更新患者。</p>
	<p>所有其他 ADT 消息类型均会导致 AR（应用程序拒绝）应答。对于成功的更新，将在从 EMPI 收到成功响应之后发送 AA（应用程序接受）ACK。对于不成功的更新，将发送 AE（应用程序错误）或 AR（应用程序拒绝）ACK。可在此 ACK 的 ERR.3.HL7ErrorCode 字段中查看关于错误的其他信息，这包括 HL7 错误代码。错误代码由“<span>HL7 表 0357</span>”定义。如果存在与错误关联的 SOAP 故障，那么可在 ERR.7.DiagnosticInformation 字段中查看关于错误的更多信息。</p>
	<p>生成“<span>Healthcare：患者标识交叉引用管理器</span>”模式的实例时，将自动创建名为 <span class="msobjpropval">PIXManagerHL7DFDLLibrary</span> 的库。此库包含 DFDL V2.5.1 模型，该模型用于定义此模式使用的 HL7 消息。</p>
	
	<h3>应答</h3>
	<p>以下这些表描述了此模式返回的应答消息中的值。</p>
	<div class="tablenoborder">
		<h4>MSH</h4>
		<table summary="" width="100%" border="1" cellpadding="4"
			cellspacing="0" frame="border" rules="all">
			<thead align="left">
				<tr>
					<th class="firstcol" align="left" valign="top" width="33%">字段名</th>
					<th class="invisible" valign="top" width="33%">应答消息中的字段值</th>
					<th class="invisible" valign="top" width="34%">如果在输入消息中不存在</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.1.FieldSeparator
        </th>
					<td valign="top" width="*" class="invisible">输入消息中的 MSH.1.FieldSeparator</td>
					<td valign="top" width="*" class="invisible"><span
						class="msobjpropval"> '|' </span></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.2.ServiceString
</th>
					<td valign="top" width="*" class="invisible">输入消息中的 MSH.2.ServiceString</td>
					<td valign="top" width="*" class="invisible"><span
						class="msobjpropval">“^~\&amp;”</span></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.3.SendingApplication
        </th>
					<td valign="top" width="*" class="invisible">“<span class="uicontrol">PIX 管理器</span>”模式参数组中的“<span 						class="msobjprop">应用程序</span>”模式参数所指定的值
</td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.4.SendingFacility</th>
					<td valign="top" width="*" class="invisible">“<span class="uicontrol">PIX 管理器</span>”模式参数组中的“<span 						class="msobjprop">工具</span>”模式参数所指定的值
</td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.5.ReceivingApplication</th>
					<td valign="top" width="*" class="invisible">“<span class="uicontrol">患者标识源</span>”模式参数组中的“<span 						class="msobjprop">应用程序</span>”模式参数所指定的值
</td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.6.ReceivingFacility</th>
					<td valign="top" width="*" class="invisible">“<span class="uicontrol">患者标识源</span>”模式参数组中的“<span 						class="msobjprop">工具</span>”模式参数所指定的值
</td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.7.DateTimeOfMessage</th>
					<td valign="top" width="*" class="invisible">采用 <span class="msobjprop">YYYYMMddHHmmss</span> 格式的当前日期时间</td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.9.MessageType</th>
					<td valign="top" width="*" class="invisible"><span 						class="msobjpropval">'ACK^ACK^ACK'</span></td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.10.MessageControlID</th>
					<td valign="top" width="*" class="invisible">新唯一标识</td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.11.ProcessingID</th>
					<td valign="top" width="*" class="invisible">输入消息中的 MSH.11.ProcessingID</td>
					<td valign="top" width="*" class="invisible"><span
						class="msobjpropval">“P”</span></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.12.VersionID</th>
					<td valign="top" width="*" class="invisible">输入消息中的 MSH.12.VersionID</td>
					<td valign="top" width="*" class="invisible"><span 						class="msobjpropval">'2.5'</span></td>
				</tr>
			</tbody>
		</table>
		<h4>MSA</h4>
		<table summary="" width="100%" border="1" cellpadding="4"
			cellspacing="0" frame="border" rules="all">
			<thead align="left">
				<tr>
					<th class="firstcol" align="left" valign="top" width="33%">字段名</th>
					<th class="invisible" valign="top" width="33%">应答消息中的字段值</th>
					<th class="invisible" valign="top" width="34%">如果在输入消息中不存在</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSA.1.AcknowledgmentCode</th>
					<td valign="top" width="*" class="invisible">成功收到消息时，MSA 应答代码将设置为 <span class="msobjpropval">AA</span>。否则，MSA 应答代码将设置为 <span class="msobjpropval">AR</span> 或 <span class="msobjpropval">AE</span>，具体取决于错误。</td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSA.2.MessageControlID</th>
					<td valign="top" width="*" class="invisible">输入消息中的 MSH.10.MessageControlID</td>
					<td valign="top" width="*" class="invisible"><span
						class="msobjpropval">“123456789”</span></td>
				</tr>
			</tbody>
		</table>
		<h4>ERR</h4>
		<table summary="" width="100%" border="1" cellpadding="4"
			cellspacing="0" frame="border" rules="all">
			<thead align="left">
				<tr>
					<th class="firstcol" align="left" valign="top" width="33%">字段名</th>
					<th class="invisible" valign="top" width="33%">应答消息中的字段值</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">ERR.2.ErrorLocation</th>
					<td valign="top" width="*" class="invisible">包含了错误的 HL7 消息字段</td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">ERR.3.HL7ErrorCode</th>
					<td valign="top" width="*" class="invisible">HL7（通信）错误代码</td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">ERR.4.Severity</th>
					<td valign="top" width="*" class="invisible">应用程序错误的严重性</td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">ERR.7.DiagnosticInformation</th>
					<td valign="top" width="*" class="invisible">SOAP 故障的其他错误信息</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>
<div>
	<div class="familylinks">
		<a name="anchorBack"></a>
		<div class="section">
			<h2 class="sectiontitle">相关任务</h2>
		</div>
		<p>
			        请阅读下一节，以获取有关如何应用和使用此模式的信息。</p>
		<div>
			<a href="constraints.htm" title="此模式的使用约束"> 此模式的使用约束</a></div>
		<div>
			<a href="before.htm" title="使用此模式前要完成的任务"> 应用此模式前要完成的任务</a>
</div>
<!--	<div>
		<a href="apply.htm" title="Apply the pattern and configure parameters">
			Apply and configure the pattern</a>
	</div>
-->
		<div>
			<a href="parameters.htm" title="模式参数">模式参数</a></div>
<!--	
	<div>
		<a href="after.htm" title="Tasks to complete after generating the pattern">
			Tasks to complete after generating the pattern</a>
	</div>
-->
</div>
</div>
</body>
</html>
