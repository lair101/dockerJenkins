<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html lang="ja" xmlns="http://www.w3.org/1999/xhtml" xml:lang="ja">
<head>
	<!--
		(c) Copyright IBM Corporation 2015. All rights reserved.
		All Rights Reserved * Licensed Materials - Property of IBM 
	-->

	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
	<meta name="abstract" content="「Patient Identifier Cross-reference Manager」パターンの概要"/>
	<link rel="stylesheet" type="text/css" href="./css/pattern.css"/>
	<title>「Healthcare: Patient Identifier Cross-reference Manager」パターン</title>
	<script language="JavaScript" src="../help/actions.js" type="text/javascript"></script>
</head>
<body role="main">
<h1 class="topictitle1"><span>「Healthcare: Patient Identifier Cross-reference Manager」</span>パターン</h1>
<div>
	<p class="shortdesc"><span>「Healthcare: Patient Identifier Cross-reference Manager」</span>パターンを IBM&reg; InfoSphere&reg; Master Data Management (MDM) と共に使用して、医療エンタープライズ統合 (IHE) 患者 ID 相互参照 (PIX) プロファイルに適合した患者 ID 相互参照マネージャーを作成します。
その後、臨床アプリケーションとパターンを統合して、PIX プロファイルで定義されているとおりに、患者 ID ソース・アクターおよび患者 ID 相互参照コンシューマー・アクターとなるようにすることができます。</p>
</div>
<div class="section">
	<h2 class="sectiontitle">ソリューション</h2>
	<p><span>「Healthcare: Patient Identifier Cross-reference Manager」</span>パターンを使用することで、MLLP を介して臨床アプリケーション (PIX プロファイル内の患者 ID ソース) からの ADT HL7 メッセージを受信する統合ソリューションを作成できます。
この統合ソリューションは、PIX プロファイルで指定されているとおりに、適切な確認応答を臨床アプリケーションに返します。
メッセージが有効であれば、統合ソリューションは SOAP 要求/応答メッセージを使用して、メッセージの内容で指定されているとおりに、エンタープライズ・マスター患者インデックス (EMPI) を更新します。
EMPI は IBM InfoSphere MDM で動作します。</p>
	<p>ADT メッセージのタイプが A01、A04、または A05 である場合は、メッセージに含まれる患者の詳細が新規レコードとして EMPI に追加されます。
それらの詳細を持つ患者が既に存在する場合、患者を追加することはできません。</p>
	<p>ADT メッセージのタイプが A08 である場合は、メッセージに含まれる患者の詳細を使用して、EMPI 内の既存レコードが更新されます。
それらの詳細を持つ患者が既に存在する場合のみ、患者を更新できます。</p>
	<p>他のすべての ADT メッセージ・タイプは、AR (アプリケーション拒否) 確認応答になります。更新に成功した場合は、EMPI から成功応答を受信した後に AA (アプリケーション受け入れ) ACK が送信されます。
更新に失敗した場合は、AE (アプリケーション・エラー) ACK または AR	(アプリケーション拒否) ACK が送信されます。ACK の ERR.3.HL7ErrorCode フィールドにエラーに関する追加情報があり、そこには HL7 エラー・コードが含まれています。
エラー・コードは <span>HL7 テーブル 0357</span> で定義されています。エラーに関連付けられた SOAP 障害がある場合は、エラーに関する追加情報が ERR.7.DiagnosticInformation フィールドにあります。</p>
	<p><span>「Healthcare: Patient Identifier Cross-reference Manager」</span>パターンのインスタンスを生成する際に、<span class="msobjpropval">PIXManagerHL7DFDLLibrary</span> という名前のライブラリーが自動的に作成されます。
このライブラリーには DFDL バージョン 2.5.1 モデルが含まれています。このモデルは、パターンによって使用される HL7 メッセージを定義するために使用されます。
</p>
	
	<h3>肯定応答</h3>
	<p>以下の表は、パターンによって返される確認応答メッセージでの値を示しています。</p>
	<div class="tablenoborder">
		<h4>MSH</h4>
		<table summary="" width="100%" border="1" cellpadding="4"
			cellspacing="0" frame="border" rules="all">
			<thead align="left">
				<tr>
					<th class="firstcol" align="left" valign="top" width="33%">フィールド名</th>
					<th class="invisible" valign="top" width="33%">肯定応答メッセージのフィールド値</th>
					<th class="invisible" valign="top" width="34%">入力メッセージが存在しない場合</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.1.FieldSeparator</th>
					<td valign="top" width="*" class="invisible">入力メッセージからの MSH.1.FieldSeparator</td>
					<td valign="top" width="*" class="invisible"><span
						class="msobjpropval"> '|' </span></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.2.ServiceString
</th>
					<td valign="top" width="*" class="invisible">入力メッセージからの MSH.2.ServiceString</td>
					<td valign="top" width="*" class="invisible"><span
						class="msobjpropval"> '^~\&amp;' </span></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.3.SendingApplication</th>
					<td valign="top" width="*" class="invisible"><span class="uicontrol">「PIX マネージャー」</span>パターン・パラメーター・グループ内の<span class="msobjprop">「アプリケーション」</span>パターン・パラメーターで指定された値
</td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.4.SendingFacility</th>
					<td valign="top" width="*" class="invisible"><span class="uicontrol">「PIX マネージャー」</span>パターン・パラメーター・グループ内の<span class="msobjprop">「ファシリティー」</span>パターン・パラメーターで指定された値
</td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.5.ReceivingApplication</th>
					<td valign="top" width="*" class="invisible"><span class="uicontrol">「患者 ID ソース」</span>パターン・パラメーター・グループ内の<span class="msobjprop">「アプリケーション」</span>パターン・パラメーターで指定された値
</td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.6.ReceivingFacility</th>
					<td valign="top" width="*" class="invisible"><span class="uicontrol">「患者 ID ソース」</span>パターン・パラメーター・グループ内の<span class="msobjprop">「ファシリティー」</span>パターン・パラメーターで指定された値
</td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.7.DateTimeOfMessage</th>
					<td valign="top" width="*" class="invisible"><span class="msobjprop">YYYYMMddHHmmss</span> 形式の現在の日時</td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.9.MessageType</th>
					<td valign="top" width="*" class="invisible"><span
						class="msobjpropval">'ACK^ACK^ACK'</span></td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.10.MessageControlID</th>
					<td valign="top" width="*" class="invisible">新規固有 ID</td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.11.ProcessingID</th>
					<td valign="top" width="*" class="invisible">入力メッセージからの MSH.11.ProcessingID</td>
					<td valign="top" width="*" class="invisible"><span
						class="msobjpropval"> 'P' </span></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSH.12.VersionID</th>
					<td valign="top" width="*" class="invisible">入力メッセージからの MSH.12.VersionID</td>
					<td valign="top" width="*" class="invisible"><span
						class="msobjpropval"> '2.5' </span></td>
				</tr>
			</tbody>
		</table>
		<h4>MSA</h4>
		<table summary="" width="100%" border="1" cellpadding="4"
			cellspacing="0" frame="border" rules="all">
			<thead align="left">
				<tr>
					<th class="firstcol" align="left" valign="top" width="33%">フィールド名</th>
					<th class="invisible" valign="top" width="33%">肯定応答メッセージのフィールド値</th>
					<th class="invisible" valign="top" width="34%">入力メッセージが存在しない場合</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSA.1.AcknowledgmentCode</th>
					<td valign="top" width="*" class="invisible">メッセージを正常に受信すると、MSA 確認応答コードは <span class="msobjpropval">AA</span> に設定されます。
それ以外の場合、MSA 確認応答コードは、エラーに応じて <span class="msobjpropval">AR</span> または <span class="msobjpropval">AE</span> に設定されます。</td>
					<td valign="top" width="*" class="invisible"></td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">MSA.2.MessageControlID</th>
					<td valign="top" width="*" class="invisible">入力メッセージからの MSH.10.MessageControlID</td>
					<td valign="top" width="*" class="invisible"><span
						class="msobjpropval"> '123456789' </span></td>
				</tr>
			</tbody>
		</table>
		<h4>ERR</h4>
		<table summary="" width="100%" border="1" cellpadding="4"
			cellspacing="0" frame="border" rules="all">
			<thead align="left">
				<tr>
					<th class="firstcol" align="left" valign="top" width="33%">フィールド名</th>
					<th class="invisible" valign="top" width="33%">肯定応答メッセージのフィールド値</th>
				</tr>
			</thead>
			<tbody>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">ERR.2.ErrorLocation</th>
					<td valign="top" width="*" class="invisible">エラーが含まれる HL7 メッセージ・フィールド</td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">ERR.3.HL7ErrorCode</th>
					<td valign="top" width="*" class="invisible">HL7 (通信) エラー・コード</td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">ERR.4.Severity</th>
					<td valign="top" width="*" class="invisible">アプリケーション・エラーの重大度</td>
				</tr>
				<tr>
					<th align="left" valign="top" width="*" class="firstcol">ERR.7.DiagnosticInformation</th>
					<td valign="top" width="*" class="invisible">SOAP 障害に関する追加エラー情報</td>
				</tr>
			</tbody>
		</table>
	</div>
</div>
<div>
	<div class="familylinks">
		<a name="anchorBack"></a>
		<div class="section">
			<h2 class="sectiontitle">関連タスク</h2>
		</div>
		<p>
			このパターンの適用と使用の方法については、以下のセクションをお読みください。</p>
		<div>
			<a href="constraints.htm" title="パターンの使用に関する制約">
				パターンの使用に関する制約</a>
			</div>
		<div>
			<a href="before.htm" title="パターンを使用する前に完了するタスク">
				パターンを適用する前に完了するタスク</a>
			</div>
<!--	<div>
		<a href="apply.htm" title="Apply the pattern and configure parameters">
			Apply and configure the pattern</a>
	</div>
-->
		<div>
					<a href="parameters.htm" title="パターンのパラメーター">パターンのパラメーター</a>
</div>
<!--	
	<div>
		<a href="after.htm" title="Tasks to complete after generating the pattern">
			Tasks to complete after generating the pattern</a>
	</div>
-->
</div>
</div>
</body>
</html>
