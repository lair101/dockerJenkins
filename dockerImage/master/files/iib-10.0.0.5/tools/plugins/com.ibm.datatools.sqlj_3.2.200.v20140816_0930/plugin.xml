<?xml version="1.0" encoding="UTF-8"?>
<?eclipse version="3.0"?>
<plugin>

    
<!-- ========================================================================   -->
<!--	Extension of Editor                                                     -->
<!--                                                                            -->
<!-- ========================================================================   -->
   <extension
         point="org.eclipse.ui.editors">
      <editor
            name="%SQLJEditor.label"
            icon="icons/sqljdoc.gif"
            extensions="sqlj"
            contributorClass="org.eclipse.jdt.internal.ui.javaeditor.CompilationUnitEditorActionContributor"
            class="com.ibm.datatools.sqlj.editor.SQLJEditor"
            id="com.ibm.datatools.sqlj.editor.SQLJEditor">
            <contentTypeBinding 
          	  contentTypeId="com.ibm.datatools.sqlj.core.sqljsource"  /> 
      </editor>
   </extension>
   <extension
         id="com.ibm.datatools.sqlj.SQLJDocumentSetupParticipant"
         name="SQLJDocumentSetupParticipant"
         point="org.eclipse.core.filebuffers.documentSetup">
      <participant
            extensions="sqlj"
            class="com.ibm.datatools.sqlj.editor.SQLJDocumentSetupParticipant">
      </participant>
   </extension>


<!-- ========================================================================   -->
<!--	Extension of PreferencePage                                             -->
<!--                                                                            -->
<!-- ========================================================================   -->
   <extension
         point="org.eclipse.ui.preferencePages">
      <page
            name="%SQLJ_NAME"
            category="org.eclipse.datatools.connectivity.sqm.core.internal.ui.preferences.data"
            class="com.ibm.datatools.sqlj.SQLJPreferencePage"
            id="com.ibm.datatools.sqlj.SQLJPreferencePage">
      </page>
   </extension>
<!-- ========================================================================   -->
<!--	Extension of the File New Menu                                          -->
<!--                                                                            -->
<!-- ========================================================================   -->
   <extension
         point="org.eclipse.ui.newWizards">
      <category
            name="%SQLJ_NAME"
            parentCategory="org.eclipse.wst.rdb"
            id="com.ibm.datatools.sqlj">
      </category>
      <wizard
            name="%AddSQLJSupportWizard.label"
            icon="icons/addsqlj_obj.gif"
            category="org.eclipse.wst.rdb/com.ibm.datatools.sqlj"
            class="com.ibm.datatools.sqlj.wizard.ConvertedProjectWizard"
            id="com.ibm.datatools.sqlj.wizard.ConvertedProjectWizard">
         <description>
            %AddSQLJSupportWizard.description
         </description>
      </wizard>
      <wizard
           name="%NewSQLJFileWizard.label"
           icon="icons/newsqljfile_obj.gif"
           category="org.eclipse.wst.rdb/com.ibm.datatools.sqlj"
           class="com.ibm.datatools.sqlj.wizard.NewSQLJWizard"
           id="com.ibm.datatools.sqlj.wizard.NewSQLJWizard">
        <description>
            %NewSQLJFileWizard.description
        </description>
      </wizard>
     
   </extension>

<!-- ========================================================================   -->
<!--	Extension for bringing up properties  - for SQLJ Project Properties                                    -->
<!--                                                                            -->
<!-- ========================================================================   -->
   <extension
         point="org.eclipse.ui.propertyPages">
      <page
            objectClass="org.eclipse.jdt.internal.core.JavaProject"
            name="%SQLJProjectProperties"
            class="com.ibm.datatools.sqlj.SQLJProjectProperties"
            id="com.ibm.datatools.sqlj.SQLJProjectProperties.JavaProject">
      </page>
      <page
            objectClass="org.eclipse.core.resources.IProject"
            name="%SQLJProjectProperties"
            class="com.ibm.datatools.sqlj.SQLJProjectProperties"
            id="com.ibm.datatools.sqlj.SQLJProjectProperties.IProject">
         <filter
               name="nature"
               value="com.ibm.datatools.sqlj.core.sqljnature">
         </filter>
      </page>
   </extension>

<!-- ========================================================================   -->
<!--	Extension for pop-up menus                                              -->
<!--                                                                            -->
<!-- ========================================================================   -->
   <extension
         point="org.eclipse.ui.popupMenus">
                        
		<objectContribution
			objectClass="org.eclipse.core.resources.IFile"
            nameFilter="*.sqlj"
            id="sqljResyncSQLJFiles">
			<action
				label="%ResyncSQLJFiles"
             	tooltip="%ResyncSQLJFiles.tooltip"
            	class="com.ibm.datatools.sqlj.build.ResyncSQLJFileAction"
            	enablesFor="+"
             	id="sqljResyncSQLJFilesAction">
       		</action>
       		<visibility>
          		<or>
           			<objectState
            			name="projectNature" value="com.ibm.datatools.sqlj.core.sqljnature">
            		</objectState>
            		<!-- For migration support -->
            		<objectState
            			name="projectNature" value="com.ibm.etools.sqlj.sqljnature">
            		</objectState>
           		</or>
       		</visibility>
      </objectContribution>
      
      <objectContribution
            objectClass="org.eclipse.jdt.internal.core.JavaProject"
            id="customizeProfiles.JavaProject">
        
         <visibility>
         	<or>
           		<objectState
            		name="projectNature" value="com.ibm.datatools.sqlj.core.sqljnature">
            	</objectState>
            	<!-- For migration support -->
            	<objectState
            		name="projectNature" value="com.ibm.etools.sqlj.sqljnature">
            	</objectState>
            </or>
         </visibility>
         <action
               label="%CustomizeSQLJProfiles"
               tooltip="%CustomizeSQLJProfiles.tooltip"
               class="com.ibm.datatools.sqlj.customize.CustomizeProfilesAction"
               enablesFor="1"
               id="genAntScriptsAction.JavaProject">
         </action>
      </objectContribution>
      
      <objectContribution
            objectClass="org.eclipse.core.resources.IProject"
            id="customizeProfiles.IProject">
         <action
               label="%CustomizeSQLJProfiles"
               tooltip="%CustomizeSQLJProfiles.tooltip"
               class="com.ibm.datatools.sqlj.customize.CustomizeProfilesAction"
               enablesFor="1"
               id="genAntScriptsAction.IProject">
         </action>
        <visibility>
           <or>
           		<objectState
            		name="projectNature" value="com.ibm.datatools.sqlj.core.sqljnature">
            	</objectState>
            	<!-- For migration support -->
            	<objectState
            		name="projectNature" value="com.ibm.etools.sqlj.sqljnature">
            	</objectState>
            </or>
         </visibility>
      </objectContribution>
      
      <objectContribution
            objectClass="org.eclipse.core.resources.IProject"
            id="addSQLJSupport.IProject">
         <visibility>
            <and>
               <objectState
                     name="projectNature"
                     value="org.eclipse.jdt.core.javanature">
               </objectState>
               <not>
                  <objectState
                        name="projectNature"
                        value="com.ibm.datatools.sqlj.core.sqljnature">
                  </objectState>
               </not>
               <!-- For migration support -->
               <not>
                  <objectState
                        name="projectNature"
                        value="com.ibm.etools.sqlj.sqljnature">
                  </objectState>
               </not>
            </and>
         </visibility>
         <action
               label="%AddSQLJSupport"
               tooltip="%AddSQLJSupport.tooltip"
               class="com.ibm.datatools.sqlj.build.AddSQLJSupportAction"
               enablesFor="1"
               id="addSQLJSupportProject.IProject">
         </action>
      </objectContribution>
      <objectContribution
            objectClass="org.eclipse.core.resources.IProject"
            id="removeSQLJSupport.IProject">
         <visibility>
           <or>
           		<objectState
            		name="projectNature" value="com.ibm.datatools.sqlj.core.sqljnature">
            	</objectState>
            	<!-- For migration support -->
            	<objectState
            		name="projectNature" value="com.ibm.etools.sqlj.sqljnature">
            	</objectState>
            </or>
         </visibility>
         <action
               label="%RemoveSQLJSupport"
               tooltip="%RemoveSQLJSupport.tooltip"
               class="com.ibm.datatools.sqlj.build.RemoveSQLJSupportAction"
               enablesFor="1"
               id="removeSQLJSupportProject.IProject">
         </action>
      </objectContribution>
      
      <objectContribution
            objectClass="org.eclipse.jdt.internal.core.JavaProject"
            id="addSQLJSupportJavaProject.JavaProject">
         <visibility>
            <and>
               <objectState
                     name="projectNature"
                     value="org.eclipse.jdt.core.javanature">
               </objectState>
               <not>
                  <objectState
                        name="projectNature"
                        value="com.ibm.datatools.sqlj.core.sqljnature">
                  </objectState>
               </not>
               <!-- For migration support -->
               <not>
                  <objectState
                        name="projectNature"
                        value="com.ibm.etools.sqlj.sqljnature">
                  </objectState>
               </not>
            </and>
         </visibility>
         <action
               label="%AddSQLJSupport"
               tooltip="%AddSQLJSupport.tooltip"
               class="com.ibm.datatools.sqlj.build.AddSQLJSupportAction"
               enablesFor="1"
               id="addSQLJSupportJavaProject.JavaProject">
         </action>
      </objectContribution>
      <objectContribution
            objectClass="org.eclipse.jdt.internal.core.JavaProject"
            id="removeSQLJSupportJavaProject.JavaProject">
         <visibility>
           <or>
           		<objectState
            		name="projectNature" value="com.ibm.datatools.sqlj.core.sqljnature">
            	</objectState>
            	<!-- For migration support -->
            	<objectState
            		name="projectNature" value="com.ibm.etools.sqlj.sqljnature">
            	</objectState>
            </or>
         </visibility>
         <action
               label="%RemoveSQLJSupport"
               tooltip="%RemoveSQLJSupport.tooltip"
               class="com.ibm.datatools.sqlj.build.RemoveSQLJSupportAction"
               enablesFor="1"
               id="removeQLJSupportJavaProject.JavaProject">
         </action>
      </objectContribution>
      
  
      <objectContribution
            objectClass="org.eclipse.core.resources.IFile"
            nameFilter="*.ser"
            id="sqljprint">
         <action
               label="%SQLJProfilePrint"
               tooltip="%SQLJProfilePrint.tooltip"
               class="com.ibm.datatools.sqlj.customize.SQLJProfilePrintAction"
               enablesFor="1"
               id="sqljprintAction">
         </action>
         <visibility>
           <or>
           		<objectState
            		name="projectNature" value="com.ibm.datatools.sqlj.core.sqljnature">
            	</objectState>
            	<!-- For migration support -->
            	<objectState
            		name="projectNature" value="com.ibm.etools.sqlj.sqljnature">
            	</objectState>
            </or>
         </visibility>
      </objectContribution>
      
      <objectContribution
            objectClass="org.eclipse.core.resources.IFile"
            nameFilter="*.sqlj"
            id="sqljSelectedCustomize">
         <action
               label="%CustomizeSelected"
               tooltip="%CustomizeSelected.tooltip"
               class="com.ibm.datatools.sqlj.customize.SelectedSQLJCustomizeAction"
               enablesFor="+"
               id="sqljSelectedCustomizeAction">
         </action>
         <visibility>
           <or>
           		<objectState
            		name="projectNature" value="com.ibm.datatools.sqlj.core.sqljnature">
            	</objectState>
            	<!-- For migration support -->
            	<objectState
            		name="projectNature" value="com.ibm.etools.sqlj.sqljnature">
            	</objectState>
            </or>
         </visibility>
      </objectContribution>
      
      <!-- Migration support  -->
      <!--  
       <objectContribution
            objectClass="org.eclipse.jdt.internal.core.JavaProject"
            id="migrateSQLJSupport.JavaProject">
        <visibility>
            <and>
               <objectState
                     name="projectNature"
                     value="com.ibm.etools.sqlj.sqljnature">
               </objectState>
               <not>
                  <objectState
                        name="projectNature"
                        value="com.ibm.datatools.sqlj.core.sqljnature">
                  </objectState>
               </not>
            </and>
         </visibility>
         <action
               label="%MigrateSQLJSupport"
               tooltip="%MigrateSQLJSupport.tooltip"
               class="com.ibm.datatools.sqlj.build.MigrateSQLJSupportAction"
               id="migrateSQLJSupportProject.JavaProject">
         </action>
      </objectContribution>
      
      <objectContribution
            objectClass="org.eclipse.core.resources.IProject"
            id="migrateSQLJSupport.IProject">
         <visibility>
            <and>
               <objectState
                     name="projectNature"
                     value="com.ibm.etools.sqlj.sqljnature">
               </objectState>
               <not>
                  <objectState
                        name="projectNature"
                        value="com.ibm.datatools.sqlj.core.sqljnature">
                  </objectState>
               </not>
            </and>
         </visibility>
         <action
               label="%MigrateSQLJSupport"
               tooltip="%MigrateSQLJSupport.tooltip"
               class="com.ibm.datatools.sqlj.build.MigrateSQLJSupportAction"
               id="migrateSQLJSupportProject.IProject">
         </action>
      </objectContribution>
      
      -->
      
      <!-- Rename support  -->   
      <objectContribution
            objectClass="org.eclipse.core.resources.IFile"
            nameFilter="*.sqlj"
            id="sqljrefactor">
        <menu
               label="%SQLJRefactor"
               path="additions"
               id="sqljRefactorMenu">
            <separator
                  name="sqljRefactor">
            </separator>
         </menu>
         <action
               label="%SQLJRename"
               tooltip="%SQLJProfilePrint.tooltip"
               class="com.ibm.datatools.sqlj.refactoring.rename.SQLJRenameAction"
               menubarPath="sqljRefactorMenu/sqljRefactor"
               
               enablesFor="1"
               id="sqljrename">
         </action>
         
           <visibility>
           <or>
           		<objectState
            		name="projectNature" value="com.ibm.datatools.sqlj.core.sqljnature">
            	</objectState>
            	<!-- For migration support -->
            	<objectState
            		name="projectNature" value="com.ibm.etools.sqlj.sqljnature">
            	</objectState>
            </or>
         </visibility>
      </objectContribution>
   </extension>
<!-- ========================================================================   -->
<!--	Extension for launch of customization                                   -->
<!--                                                                            -->
<!-- ========================================================================   -->
   <extension
         point="org.eclipse.debug.core.launchConfigurationTypes">
      <launchConfigurationType
            name="%sqlj.customizeLaunchType"
            delegate="com.ibm.datatools.sqlj.customize.CustomizeLaunchDelegate"
            category="com.ibm.datatools.sqlj"
            modes="run"
            id="com.ibm.datatools.sqlj.CustomizeLaunchConfigurationType">
      </launchConfigurationType>
      <!-- For migration purposes    -->
      <launchConfigurationType
            name="%sqlj.customizeLaunchType"
            delegate="com.ibm.datatools.sqlj.customize.CustomizeLaunchDelegate"
            category="com.ibm.datatools.sqlj"
            modes="run"
            id="com.ibm.etools.sqlj.CustomizeLaunchConfigurationType">
      </launchConfigurationType>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchConfigurationTabGroups">
      <launchConfigurationTabGroup
            type="com.ibm.datatools.sqlj.CustomizeLaunchConfigurationType"
            class="com.ibm.datatools.sqlj.customize.CustomizeTabGroup"
            id="com.ibm.datatools.sqlj.customize.CustomizeTabGroup">
      </launchConfigurationTabGroup>
   </extension>
   <extension
         point="org.eclipse.debug.ui.launchGroups">
      <launchGroup
            label="%sqlj.customizeBindGroup"
            bannerImage="icons/customize/customize_wiz.gif"
            category="com.ibm.datatools.sqlj"
            image="icons/customize/customize.gif"
            public="false"
            mode="run"
            id="com.ibm.datatools.sqlj.customize.launchGroup">
      </launchGroup>
   </extension>
   <extension
         point="org.eclipse.debug.core.statusHandlers">
      <statusHandler
            plugin="com.ibm.datatools.sqlj"
            code="1000"
            class="com.ibm.datatools.sqlj.customize.CustomizeStatusHandler"
            id="com.ibm.datatools.sqlj.customize.Init">
      </statusHandler>
   </extension>

<!-- ========================================================================   -->
<!--	For SQLJ/Java rename participation                                      -->
<!--                                                                            -->
<!-- ========================================================================   -->
  <extension
         point="org.eclipse.ltk.core.refactoring.renameParticipants">
      <renameParticipant
            name="%renameParticipant"
            class="com.ibm.datatools.sqlj.refactoring.SQLJTypeRenameParticipant"
            id="com.ibm.datatools.sqlj.refactoring.SQLJTypeRenameParticipant">
         <enablement>
            <with
                  variable="affectedNatures">
               <iterate
                     operator="or">
                  <equals
                        value="org.eclipse.jdt.core.javanature">
                  </equals>
               </iterate>
            </with>
            <with
                  variable="element">
               <instanceof
                     value="org.eclipse.jdt.core.IType">
               </instanceof>
            </with>
         </enablement>
      </renameParticipant>
  </extension>
    
</plugin>
