<?xml version="1.0" encoding="UTF-8" ?>
<securityBindings xmlns="http://www.ibm.com/xmlns/prod/websphere/200608/ws-securitybinding">
  <securityBinding name="application">
    <securityInboundBindingConfig>
		<encryptionInfo>
			<keyEncryptionKeyInfo reference="con_deckeyinfo" />
			<encryptionPartReference reference="response:encrypt" />
		</encryptionInfo>
		<keyInfo type="KEYID" name="con_deckeyinfo" classname="com.ibm.ws.wssecurity.wssapi.CommonContentConsumer">
			<tokenReference reference="con_dectcon" />
		</keyInfo>
		<tokenConsumer classname="com.ibm.ws.wssecurity.wssapi.token.impl.CommonTokenConsumer" name="con_dectcon">
			<valueType localName="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3" uri="" />
			<callbackHandler classname="com.ibm.websphere.wssecurity.callbackhandler.X509ConsumeCallbackHandler">
				<key alias="alice" keypass="keypass" name="CN=Alice, O=IBM, C=US" />
				<keyStore storepass="storepass" path="keystores/enc-sender.jceks" type="JCEKS" />
				<certPathSettings>
					<trustAnyCertificate />
				</certPathSettings>
			</callbackHandler>
			<jAASConfig configName="system.wss.consume.x509" />
		</tokenConsumer>
	</securityInboundBindingConfig>
    <securityOutboundBindingConfig> 
   	  <encryptionInfo>
  		<keyEncryptionKeyInfo reference="gen_enc_keyinfo" /> 
  		<encryptionPartReference reference="request:encrypt" /> 
  	  </encryptionInfo>
      <keyInfo type="KEYID" name="gen_enc_keyinfo" classname="com.ibm.ws.wssecurity.wssapi.CommonContentGenerator">
        <tokenReference reference="gen_enctgen" />
      </keyInfo>
      <tokenGenerator name="gen_enctgen" classname="com.ibm.ws.wssecurity.wssapi.token.impl.CommonTokenGenerator">
        <valueType localName="http://docs.oasis-open.org/wss/2004/01/oasis-200401-wss-x509-token-profile-1.0#X509v3" uri="" />
        <callbackHandler classname="com.ibm.websphere.wssecurity.callbackhandler.X509GenerateCallbackHandler">
          <key alias="bob" name="CN=Bob, O=IBM, C=US" /> 
  		  <keyStore storepass="storepass" path="keystores/enc-sender.jceks" type="JCEKS" /> 
        </callbackHandler>
        <jAASConfig configName="system.wss.generate.x509"/>
      </tokenGenerator>
    </securityOutboundBindingConfig>
  </securityBinding>
</securityBindings>

